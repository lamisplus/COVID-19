(this.webpackJsonpLamisPlus=this.webpackJsonpLamisPlus||[]).push([[0],{660:function(e,t,a){},661:function(e,t,a){},859:function(e,t,a){},860:function(e,t,a){"use strict";a.r(t);var i=a(1),r=a.n(i),c=a(21),o=a.n(c),s=a(50),n=a(49),l=(a(132),a(660),a(661),a(662),a(917)),d=a(918),j=a(947),b=a(937),u=a(919),h=a(138),m=a.n(h),v=(a(278),a(217)),O=a.n(v),p=a(227),x=a.n(p),f=a(218),g=a.n(f),y=a(225),N=a.n(y),C=a(143),S=a.n(C),w=a(142),I=a.n(w),T=a(219),A=a.n(T),D=a(220),R=a.n(D),k=a(222),B=a.n(k),E=a(223),P=a.n(E),F=a(224),_=a.n(F),z=a(228),M=a.n(z),V=a(221),q=a.n(V),L=a(226),Y=a.n(L),H=a(229),W=a.n(H),U=(a(104),a(455),a(48)),Z=a.n(U),G=a(159),K=a.n(G),Q=a(942);const J="GET_PATIENT_DATA",X="GET_VACCINATED_PATIENT_DATA";var $=a(32),ee=a.n($);const te="/api/v1/",ae=new URLSearchParams(window.location.search).get("jwt"),ie=async e=>{let{page:t,pageSize:a,search:i}=e;return(await ee.a.get("".concat(te,"patient?pageSize=").concat(a,"&pageNo=").concat(t,"&searchParam=").concat(i),{headers:{Authorization:"Bearer ".concat(ae)}})).data};var re=a(52),ce=a(469),oe=a(911),se=a(368);const ne=(e,t)=>{const a=new Date,i=new Date(e);let r=a.getFullYear()-i.getFullYear();const c=a.getMonth()-i.getMonth();return r<=0&&c<0&&a.getDate()<i.getDate()&&r--,0===r?c+" month(s)":r+" year(s)"};const le={defaultOptions:{queries:{retry:2,refetchOnMount:!0,refetchOnWindowFocus:!0,refetchOnReconnect:!0,cacheTime:1/0,refetchInterval:36e5,refetchIntervalInBackground:!0,suspense:!1,staleTime:1/0},mutations:{retry:2}}},de=new(a(938).a)(le);var je=a(3);Z.a.locale("en"),K()();const be={Add:Object(i.forwardRef)(((e,t)=>Object(je.jsx)(O.a,{...e,ref:t}))),Check:Object(i.forwardRef)(((e,t)=>Object(je.jsx)(g.a,{...e,ref:t}))),Clear:Object(i.forwardRef)(((e,t)=>Object(je.jsx)(I.a,{...e,ref:t}))),Delete:Object(i.forwardRef)(((e,t)=>Object(je.jsx)(A.a,{...e,ref:t}))),DetailPanel:Object(i.forwardRef)(((e,t)=>Object(je.jsx)(S.a,{...e,ref:t}))),Edit:Object(i.forwardRef)(((e,t)=>Object(je.jsx)(R.a,{...e,ref:t}))),Export:Object(i.forwardRef)(((e,t)=>Object(je.jsx)(q.a,{...e,ref:t}))),Filter:Object(i.forwardRef)(((e,t)=>Object(je.jsx)(B.a,{...e,ref:t}))),FirstPage:Object(i.forwardRef)(((e,t)=>Object(je.jsx)(P.a,{...e,ref:t}))),LastPage:Object(i.forwardRef)(((e,t)=>Object(je.jsx)(_.a,{...e,ref:t}))),NextPage:Object(i.forwardRef)(((e,t)=>Object(je.jsx)(S.a,{...e,ref:t}))),PreviousPage:Object(i.forwardRef)(((e,t)=>Object(je.jsx)(N.a,{...e,ref:t}))),ResetSearch:Object(i.forwardRef)(((e,t)=>Object(je.jsx)(I.a,{...e,ref:t}))),Search:Object(i.forwardRef)(((e,t)=>Object(je.jsx)(Y.a,{...e,ref:t}))),SortArrow:Object(i.forwardRef)(((e,t)=>Object(je.jsx)(x.a,{...e,ref:t}))),ThirdStateCheck:Object(i.forwardRef)(((e,t)=>Object(je.jsx)(M.a,{...e,ref:t}))),ViewColumn:Object(i.forwardRef)(((e,t)=>Object(je.jsx)(W.a,{...e,ref:t})))};var ue=e=>{const[t,a]=Object(i.useState)(!0),[r,c]=Object(i.useState)({page:0,pageSize:10,search:""}),o=e=>{e.target.checked?a(!1):a(!0)},{data:s,isLoading:n,refetch:l}=Object(Q.a)([J,r],(()=>ie(r)),{onSuccess:()=>(async()=>{const e=r.page+1,t=[J,{...r,page:e}];await de.prefetchQuery(t,(()=>ie({...r,page:e})))})()});return Object(je.jsx)("div",{children:Object(je.jsx)(m.a,{icons:be,title:"Find Patient",columns:[{title:"Patient Name",field:"firstName",hidden:t,render:e=>(null===e||void 0===e?void 0:e.firstName)+" "+(null===e||void 0===e?void 0:e.surname)||(null===e||void 0===e?void 0:e.otherName)||""},{title:"Hospital Number",field:"participantId",filtering:!1,render:e=>{var t,a;const i=(null===e||void 0===e||null===(t=e.identifier)||void 0===t||null===(a=t.identifier)||void 0===a?void 0:a.filter((e=>"HospitalNumber"===(null===e||void 0===e?void 0:e.type)))).pop();return null!==(null===i||void 0===i?void 0:i.value)?i.value:""}},{title:"Sex",field:"gender",filtering:!1,render:e=>null!==(null===e||void 0===e?void 0:e.gender)?e.gender.display:""},{title:"Age",field:"dateOfBirth",filtering:!1,render:e=>ne(null===e||void 0===e?void 0:e.dateOfBirth)},{title:"Actions",field:"actions",filtering:!1,render:e=>Object(je.jsx)("div",{children:Object(je.jsx)(re.b,{to:{pathname:"/patient-vaccination-history",route:"patient-vaccination-history",state:{patientObj:e}},children:Object(je.jsxs)(oe.a,{variant:"contained","aria-label":"split button",style:{backgroundColor:"rgb(153, 46, 98)",height:"30px",width:"215px"},size:"large",children:[Object(je.jsx)(ce.a,{color:"primary",size:"small","aria-label":"select merge strategy","aria-haspopup":"menu",style:{backgroundColor:"rgb(153, 46, 98)"},children:Object(je.jsx)(se.a,{})}),Object(je.jsx)(ce.a,{style:{backgroundColor:"rgb(153, 46, 98)"},children:Object(je.jsx)("span",{style:{fontSize:"10px",color:"#fff",fontWeight:"bolder"},children:"Patient Dashboard"})})]})})})}],components:{Toolbar:e=>Object(je.jsxs)("div",{children:[Object(je.jsxs)("div",{className:"form-check custom-checkbox  float-left mt-4 ml-3 ",children:[Object(je.jsx)("input",{type:"checkbox",className:"form-check-input",name:"showPP!",id:"showPP",value:"showPP",checked:!0!==t,onChange:o,style:{border:"1px solid #014D88",borderRadius:"0.25rem"}}),Object(je.jsx)("label",{className:"form-check-label",htmlFor:"basic_checkbox_1",children:Object(je.jsx)("b",{style:{color:"#014d88",fontWeight:"bold"},children:"SHOW PII"})})]}),Object(je.jsx)(h.MTableToolbar,{...e})]})},data:(null===s||void 0===s?void 0:s.records)||[],totalCount:null===s||void 0===s?void 0:s.totalRecords,isLoading:n,page:null===s||void 0===s?void 0:s.currentPage,options:{headerStyle:{backgroundColor:"#014d88",color:"#fff"},searchFieldStyle:{width:"200%",margingLeft:"250px"},filtering:!1,paging:!0,exportButton:!1,searchFieldAlignment:"left",pageSizeOptions:[10,20,100],pageSize:(null===r||void 0===r?void 0:r.pageSize)||10,debounceInterval:400},onChangePage:e=>{c((t=>({...t,page:e}))),l(r)}})})};const he=async e=>{let{page:t,pageSize:a,search:i}=e;const r=await ee.a.get("".concat(te,"covid/vaccinated-patients?pageSize=").concat(a,"&pageNo=").concat(t,"&searchParam=").concat(i),{headers:{Authorization:"Bearer ".concat(ae)}});return null===r||void 0===r?void 0:r.data};var me=a(629);Z.a.locale("en"),K()();const ve={Add:Object(i.forwardRef)(((e,t)=>Object(je.jsx)(O.a,{...e,ref:t}))),Check:Object(i.forwardRef)(((e,t)=>Object(je.jsx)(g.a,{...e,ref:t}))),Clear:Object(i.forwardRef)(((e,t)=>Object(je.jsx)(I.a,{...e,ref:t}))),Delete:Object(i.forwardRef)(((e,t)=>Object(je.jsx)(A.a,{...e,ref:t}))),DetailPanel:Object(i.forwardRef)(((e,t)=>Object(je.jsx)(S.a,{...e,ref:t}))),Edit:Object(i.forwardRef)(((e,t)=>Object(je.jsx)(R.a,{...e,ref:t}))),Export:Object(i.forwardRef)(((e,t)=>Object(je.jsx)(q.a,{...e,ref:t}))),Filter:Object(i.forwardRef)(((e,t)=>Object(je.jsx)(B.a,{...e,ref:t}))),FirstPage:Object(i.forwardRef)(((e,t)=>Object(je.jsx)(P.a,{...e,ref:t}))),LastPage:Object(i.forwardRef)(((e,t)=>Object(je.jsx)(_.a,{...e,ref:t}))),NextPage:Object(i.forwardRef)(((e,t)=>Object(je.jsx)(S.a,{...e,ref:t}))),PreviousPage:Object(i.forwardRef)(((e,t)=>Object(je.jsx)(N.a,{...e,ref:t}))),ResetSearch:Object(i.forwardRef)(((e,t)=>Object(je.jsx)(I.a,{...e,ref:t}))),Search:Object(i.forwardRef)(((e,t)=>Object(je.jsx)(Y.a,{...e,ref:t}))),SortArrow:Object(i.forwardRef)(((e,t)=>Object(je.jsx)(x.a,{...e,ref:t}))),ThirdStateCheck:Object(i.forwardRef)(((e,t)=>Object(je.jsx)(M.a,{...e,ref:t}))),ViewColumn:Object(i.forwardRef)(((e,t)=>Object(je.jsx)(W.a,{...e,ref:t})))};var Oe=e=>{const[t,a]=Object(i.useState)(!0),[r,c]=Object(i.useState)({page:0,pageSize:10,search:""}),o=e=>{e.target.checked?a(!1):a(!0)},{data:s,isLoading:n,refetch:l}=Object(Q.a)([X,r],(()=>he(r)),{onSuccess:()=>(async()=>{const e=r.page+1,t=[X,{...r,page:e}];await de.prefetchQuery(t,(()=>he({...r,page:e})))})()});return Object(je.jsx)("div",{children:Object(je.jsx)(m.a,{icons:ve,title:"Find Patient",components:{Toolbar:e=>Object(je.jsxs)("div",{children:[Object(je.jsxs)("div",{className:"form-check custom-checkbox  float-left mt-4 ml-3 ",children:[Object(je.jsx)("input",{type:"checkbox",className:"form-check-input",name:"showPP!",id:"showPP",value:"showPP",checked:!0!==t,onChange:o,style:{border:"1px solid #014D88",borderRadius:"0.25rem"}}),Object(je.jsx)("label",{className:"form-check-label",htmlFor:"basic_checkbox_1",children:Object(je.jsx)("b",{style:{color:"#014d88",fontWeight:"bold"},children:"SHOW PII"})})]}),Object(je.jsx)(h.MTableToolbar,{...e})]})},columns:[{title:"Patient Name",field:"firstName",hidden:t,render:e=>{const t=(null===e||void 0===e?void 0:e.lastName)||(null===e||void 0===e?void 0:e.otherName)||(null===e||void 0===e?void 0:e.surname)||"";return(null===e||void 0===e?void 0:e.firstName)+" "+t}},{title:"Hospital Number",field:"participantId",filtering:!1},{title:"Sex",field:"gender",filtering:!1,render:e=>null!==(null===e||void 0===e?void 0:e.gender)?e.gender.display:""},{title:"Age",field:"dob",filtering:!1,render:e=>ne(null===e||void 0===e?void 0:e.dob)},{title:"Vaccination Status",field:"vaccinationStatus",filtering:!1,render:e=>Object(je.jsx)(me.a,{color:"blue",size:"mini",children:(null===e||void 0===e?void 0:e.vaccinationStatus)||""})},{title:"Actions",field:"actions",filtering:!1,render:e=>Object(je.jsx)("div",{children:Object(je.jsx)(re.b,{to:{pathname:"/patient-vaccination-history",state:{patientObj:e}},children:Object(je.jsxs)(oe.a,{variant:"contained","aria-label":"split button",style:{backgroundColor:"rgb(153, 46, 98)",height:"30px",width:"215px"},size:"large",children:[Object(je.jsx)(ce.a,{color:"primary",size:"small","aria-label":"select merge strategy","aria-haspopup":"menu",style:{backgroundColor:"rgb(153, 46, 98)"},children:Object(je.jsx)(se.a,{})}),Object(je.jsx)(ce.a,{style:{backgroundColor:"rgb(153, 46, 98)"},children:Object(je.jsx)("span",{style:{fontSize:"10px",color:"#fff",fontWeight:"bolder"},children:"Patient Dashboard"})})]})})})}],data:(null===s||void 0===s?void 0:s.records)||[],totalCount:null===s||void 0===s?void 0:s.totalRecords,isLoading:n,page:null===s||void 0===s?void 0:s.currentPage,options:{headerStyle:{backgroundColor:"#014d88",color:"#fff"},searchFieldStyle:{width:"200%",margingLeft:"250px"},filtering:!1,paging:!0,exportButton:!1,searchFieldAlignment:"left",pageSizeOptions:[10,20,100],pageSize:(null===r||void 0===r?void 0:r.pageSize)||10,debounceInterval:400},onChangePage:e=>{c((t=>({...t,page:e}))),l(r)}})})},pe=a(616);const xe={borderRadius:"2px",fontSize:14};var fe=()=>{const[e,t]=Object(i.useState)("home");return Object(je.jsxs)("div",{children:[Object(je.jsxs)("div",{className:"row page-titles mx-0",style:{marginTop:"0px",marginBottom:"-10px"},children:[Object(je.jsx)("ol",{className:"breadcrumb",children:Object(je.jsx)("li",{className:"breadcrumb-item active",children:Object(je.jsx)("h4",{children:"Immunization"})})}),Object(je.jsx)("div",{children:Object(je.jsx)(re.b,{to:"register-patient",children:Object(je.jsx)(ce.a,{variant:"contained",color:"primary",className:" float-end mb-10",startIcon:Object(je.jsx)(pe.a,{size:"10"}),style:{backgroundColor:"#014d88"},children:Object(je.jsx)("span",{style:{textTransform:"capitalize"},children:"New Patient"})})})})]}),Object(je.jsx)(l.a,{style:{marginTop:"20px"},children:Object(je.jsx)(d.a,{xl:12,children:Object(je.jsx)(j.a,{style:xe,children:Object(je.jsx)(j.a.Body,{children:Object(je.jsx)("div",{className:"custom-tab-1",children:Object(je.jsxs)(b.a,{id:"controlled-tab-example",activeKey:e,onSelect:e=>t(e),className:"mb-3",children:[Object(je.jsx)(u.a,{eventKey:"home",title:"Find Patients",children:Object(je.jsx)(ue,{})}),Object(je.jsx)(u.a,{eventKey:"vaccinated",title:"All Vaccinated Patients",children:Object(je.jsx)(Oe,{})})]})})})})})})]})},ge=a(7),ye=a(940),Ne=a(948),Ce=a(915),Se=a(916),we=a(241),Ie=a(914),Te=a(920),Ae=a(921);Z.a.locale("en"),K()();var De=Object(ge.a)((e=>({root:{width:"100%"},heading:{fontSize:e.typography.pxToRem(15)},secondaryHeading:{fontSize:e.typography.pxToRem(15),color:e.palette.text.secondary},icon:{verticalAlign:"bottom",height:20,width:20},details:{alignItems:"center"},column:{flexBasis:"20.33%"},helper:{borderLeft:"2px solid ".concat(e.palette.divider),padding:"".concat(e.spacing.unit,"px ").concat(2*e.spacing.unit,"px")},link:{color:e.palette.primary.main,textDecoration:"none","&:hover":{textDecoration:"underline"}}})))((function(e){const{classes:t}=e,a=e.patientObj;return Object(i.useEffect)((()=>{}),[e.patientObj]),Object(je.jsx)("div",{className:t.root,children:Object(je.jsxs)(Ce.a,{children:[Object(je.jsx)(Se.a,{children:Object(je.jsx)(Te.a,{children:Object(je.jsx)(Ae.a,{md:12,children:Object(je.jsxs)(Te.a,{className:"mt-1",children:[Object(je.jsxs)(Ae.a,{md:12,className:t.root2,children:[Object(je.jsx)("b",{style:{fontSize:"25px",color:"rgb(153, 46, 98)"},children:a.firstName+" "+(r=a,r&&r.lastName?r.lastName:r&&r.surname?r.surname:r&&r.otherName?r.otherName:"")}),Object(je.jsx)(re.b,{to:"/",children:Object(je.jsx)(ce.a,{variant:"contained",color:"primary",className:" float-end ms-2 mr-2 mt-2",startIcon:Object(je.jsx)(we.a,{}),style:{backgroundColor:"rgb(153, 46, 98)",color:"#fff",height:"35px"},children:Object(je.jsx)("span",{style:{textTransform:"capitalize"},children:"Back"})})})]}),Object(je.jsx)(Ae.a,{md:4,className:t.root2,children:Object(je.jsxs)("span",{children:[" ","Patient ID :"," ",Object(je.jsx)("b",{style:{color:"#0B72AA"},children:(e=>{if(e&&e.participantId)return e.participantId;{var t,a,i;const r=(null===e||void 0===e||null===(t=e.identifier)||void 0===t||null===(a=t.identifier)||void 0===a?void 0:a.filter((e=>"HospitalNumber"===(null===e||void 0===e?void 0:e.type))))||[],c=(null===r||void 0===r||null===(i=r.pop)||void 0===i?void 0:i.call(r))||null;return null!==(null===c||void 0===c?void 0:c.value)?c.value:""}})(a)})]})}),Object(je.jsx)(Ae.a,{md:4,className:t.root2,children:Object(je.jsxs)("span",{children:["Date Of Birth :"," ",Object(je.jsx)("b",{style:{color:"#0B72AA"},children:(null===a||void 0===a?void 0:a.dob)||(null===a||void 0===a?void 0:a.dateOfBirth)})]})}),Object(je.jsx)(Ae.a,{md:4,className:t.root2,children:Object(je.jsxs)("span",{children:[" ","Age :"," ",Object(je.jsx)("b",{style:{color:"#0B72AA"},children:(e=>{var t=new Date,a=e.split("-"),i=new Date(+a[2],a[1]-1,+a[0]),r=new Date(i),c=t.getFullYear()-r.getFullYear(),o=t.getMonth()-r.getMonth();return(o<0||0===o&&t.getDate()<r.getDate())&&c--,0===c?o+" month(s)":c+" year(s)"})(Z()(a.dob||(null===a||void 0===a?void 0:a.dateOfBirth)).format("DD-MM-YYYY"))})]})}),Object(je.jsx)(Ae.a,{md:4,children:Object(je.jsxs)("span",{children:[" ","Gender :"," ",Object(je.jsx)("b",{style:{color:"#0B72AA"},children:null!==a.gender?a.gender.display:""})]})}),Object(je.jsx)(Ae.a,{md:4,className:t.root2,children:Object(je.jsxs)("span",{children:[" ","Phone Number :"," ",Object(je.jsx)("b",{style:{color:"#0B72AA"},children:(e=>{const t=e.contactPoint.find((e=>"phone"===e.type));return t?t.value:""})(a.contactPoint)})]})}),Object(je.jsx)(Ae.a,{md:4,className:t.root2,children:Object(je.jsxs)("span",{children:[" ","Address :"," ",Object(je.jsxs)("b",{style:{color:"#0B72AA"},children:[(e=>{const t=e.address.find((e=>e.city)),a=t&&null!==t.line[0]?t.line[0]:"",i=t&&t.city&&null!==t.city?t.city:"";return t?a+" "+i:""})(a.address)," "]})]})})]})})})}),Object(je.jsx)(Ie.a,{})]})});var r})),Re=a(936);var ke=function(e){const t=e.patientObj?e.patientObj:{},[a,r]=Object(i.useState)("recent-history"),[c]=Object(i.useState)(t),[o]=Object(i.useState)((e=>{const t=new Date,a=new Date(e);let i=t.getFullYear()-a.getFullYear();const r=t.getMonth()-a.getMonth();return i<=0&&r<0&&t.getDate()<a.getDate()&&i--,0===i?r:i})((null===c||void 0===c?void 0:c.dob)||(null===c||void 0===c?void 0:c.dateOfBirth))||0);return Object(je.jsx)("div",{style:{marginTop:"20px"},children:Object(je.jsxs)(Re.a,{size:"large",color:"black",inverted:!0,children:[Object(je.jsx)(Re.a.Item,{onClick:()=>{e.setActiveContent({...e.activeContent,route:"recent-history"})},children:" Home"}),Object(je.jsxs)(Re.a.Item,{onClick:()=>(r("immunization"),void e.setActiveContent({...e.activeContent,route:"routine-immunization-patient"})),children:[" ","Routine Immunization"]}),Object(je.jsx)(Re.a.Item,{onClick:()=>(r("tetanus"),void e.setActiveContent({...e.activeContent,route:"tetanus-patient"})),children:" Tetanus "}),o>=5&&Object(je.jsx)(Re.a.Item,{onClick:t=>{r("covid"),e.setActiveContent({...e.activeContent,route:"covid-patient"})},children:" COVID-19 "}),Object(je.jsx)(Re.a.Item,{onClick:()=>(r("history"),void e.setActiveContent({...e.activeContent,route:"vaccination-history"})),children:"History"})]})})},Be=a(925),Ee=a(926),Pe=a(934),Fe=a(473),_e=a(935),ze=a(943),Me=a(922),Ve=a(923),qe=a(924),Le=a(927),Ye=a(928),He=a(929),We=a(930),Ue=a(554),Ze=a(124),Ge=a.n(Ze),Ke=a(125),Qe=a.n(Ke);let Je="";const Xe=Object(Ue.a)((e=>({card:{margin:e.spacing(20),display:"flex",flexDirection:"column",alignItems:"center"},form:{width:"100%",marginTop:e.spacing(3)},submit:{margin:e.spacing(3,0,2)},cardBottom:{marginBottom:20},Select:{height:45,width:350},button:{margin:e.spacing(1)},root:{"& > *":{margin:e.spacing(1)}},input:{display:"none"},error:{color:"#f85032",fontSize:"12.8px"}})));var $e=e=>{const[t,a]=Object(i.useState)({}),r=e.patientObj,c=Xe();let o={...t};const[s,l]=Object(i.useState)([]),[d,j]=Object(i.useState)([]),[b,u]=Object(i.useState)({adverseEffect:"",batchNumber:"",doseNumber:"",location:"",patientId:r.id,vaccinationFacility:"",vaccine:"",vaccineDate:""}),[h,m]=Object(i.useState)(!1);Object(i.useEffect)((()=>{v(),O(),e.records&&null!==e.records&&u(e.records)}),[e.records]);const v=()=>{ee.a.get("".concat(te,"covid/codeset?category=VACCINE"),{headers:{Authorization:"Bearer ".concat(ae)}}).then((e=>{j(e.data)})).catch((e=>{}))},O=()=>{ee.a.get("".concat(te,"application-codesets/v2/COVID_ADVERSE_EFFECT"),{headers:{Authorization:"Bearer ".concat(ae)}}).then((e=>{l(e.data)})).catch((e=>{}))},p=e=>{a({...t,[e.target.name]:""}),u({...b,[e.target.name]:e.target.value}),"location"===e.target.name&&"Facility"!==b.location&&(b.vaccinationFacility="",u({...b,vaccinationFacility:""}),u({...b,[e.target.name]:e.target.value}))};Je=(e=>{var t=new Date,a=e.split("-"),i=new Date(+a[2],a[1]-1,+a[0]),r=new Date(i),c=t.getFullYear()-r.getFullYear(),o=t.getMonth()-r.getMonth();return(o<0||0===o&&t.getDate()<r.getDate())&&c--,0===c?o+" month(s)":c})(Z()(e.patientObj.dob).format("DD-MM-YYYY"));return Object(je.jsx)("div",{children:Object(je.jsx)(ze.a,{isOpen:e.showModal,toggle:e.toggle,className:e.className,size:"lg",children:Object(je.jsxs)(Me.a,{children:[Object(je.jsx)(Ve.a,{style:{backgroundColor:"#eeeeee"},children:"VACCINATION "}),Object(je.jsx)(qe.a,{children:Object(je.jsx)(Be.a,{children:Object(je.jsxs)(Ee.a,{children:[Object(je.jsx)(Te.a,{children:Je>=5?Object(je.jsxs)(je.Fragment,{children:[Object(je.jsx)("div",{className:"form-group mb-3 col-md-6",children:Object(je.jsxs)(Le.a,{children:[Object(je.jsxs)(Ye.a,{children:["Vaccine ",Object(je.jsx)("span",{style:{color:"red"},children:" *"})]}),Object(je.jsxs)(He.a,{type:"select",name:"vaccine",id:"vaccine",onChange:p,value:b.vaccine,children:[Object(je.jsx)("option",{value:"",children:"Select"}),d.map((e=>Object(je.jsx)("option",{value:e.id,children:e.name},e.id)))]}),""!==t.vaccine?Object(je.jsx)("span",{className:c.error,children:t.vaccine}):""]})}),Object(je.jsx)("div",{className:"form-group mb-3 col-md-6",children:Object(je.jsxs)(Le.a,{children:[Object(je.jsxs)(Ye.a,{children:["Batch Number ",Object(je.jsx)("span",{style:{color:"red"},children:" *"})]}),Object(je.jsx)(We.a,{children:Object(je.jsx)(He.a,{type:"text",name:"batchNumber",id:"batchNumber",onChange:p,value:b.batchNumber})}),""!==t.batchNumber?Object(je.jsx)("span",{className:c.error,children:t.batchNumber}):""]})}),Object(je.jsx)("div",{className:"form-group mb-3 col-md-6",children:Object(je.jsxs)(Le.a,{children:[Object(je.jsxs)(Ye.a,{children:["Vaccination Date ",Object(je.jsx)("span",{style:{color:"red"},children:" *"})]}),Object(je.jsx)(We.a,{children:Object(je.jsx)(He.a,{type:"date",name:"vaccineDate",id:"vaccineDate",onChange:p,value:b.vaccineDate,max:Z()(new Date).format("YYYY-MM-DD")})}),""!==t.vaccineDate?Object(je.jsx)("span",{className:c.error,children:t.vaccineDate}):""]})}),Object(je.jsx)("div",{className:"form-group mb-3 col-md-6",children:Object(je.jsxs)(Le.a,{children:[Object(je.jsxs)(Ye.a,{children:["Vaccination Dosage ",Object(je.jsx)("span",{style:{color:"red"},children:" *"})]}),Object(je.jsx)(We.a,{children:Object(je.jsx)(He.a,{type:"number",name:"doseNumber",id:"doseNumber",onChange:p,value:b.doseNumber})}),""!==t.doseNumber?Object(je.jsx)("span",{className:c.error,children:t.doseNumber}):""]})}),Object(je.jsx)("div",{className:"form-group mb-3 col-md-6",children:Object(je.jsxs)(Le.a,{children:[Object(je.jsxs)(Ye.a,{children:["Location ",Object(je.jsx)("span",{style:{color:"red"},children:" *"})]}),Object(je.jsx)(We.a,{children:Object(je.jsxs)(He.a,{type:"select",name:"location",id:"location",onChange:p,value:b.location,children:[Object(je.jsx)("option",{value:"",children:"Select"}),Object(je.jsx)("option",{value:"Facility",children:"Facility"}),Object(je.jsx)("option",{value:"Community",children:"Community"})]})}),""!==t.location?Object(je.jsx)("span",{className:c.error,children:t.location}):""]})}),"Facility"===b.location&&Object(je.jsx)("div",{className:"form-group mb-3 col-md-6",children:Object(je.jsxs)(Le.a,{children:[Object(je.jsxs)(Ye.a,{children:["Facility Name ",Object(je.jsx)("span",{style:{color:"red"},children:" *"})]}),Object(je.jsx)(We.a,{children:Object(je.jsx)(He.a,{type:"text",name:"vaccinationFacility",id:"vaccinationFacility",onChange:p,value:b.vaccinationFacility})}),""!==t.vaccinationFacility?Object(je.jsx)("span",{className:c.error,children:t.vaccinationFacility}):""]})}),Object(je.jsx)("div",{className:"form-group mb-3 col-md-6",children:Object(je.jsxs)(Le.a,{children:[Object(je.jsx)(Ye.a,{children:"Adverse Effect "}),Object(je.jsx)(We.a,{children:Object(je.jsxs)(He.a,{type:"select",name:"adverseEffect",id:"adverseEffect",onChange:p,value:b.adverseEffect,children:[Object(je.jsx)("option",{value:"",children:"Select"}),s.map((e=>Object(je.jsx)("option",{value:e.display,children:e.display},e.id)))]})}),""!==t.adverseEffect?Object(je.jsx)("span",{className:c.error,children:t.adverseEffect}):""]})})]}):Object(je.jsx)(je.Fragment,{children:Object(je.jsx)("p",{children:Object(je.jsx)("h4",{children:"The Age is less than 5"})})})}),Object(je.jsx)("br",{}),Object(je.jsx)("br",{}),Object(je.jsx)(ce.a,{type:"submit",variant:"contained",color:"primary",className:c.button,startIcon:Object(je.jsx)(Ge.a,{}),onClick:t=>{t.preventDefault(),m(!0),o.vaccine=b.vaccine?"":"This field is required",o.vaccineDate=b.vaccineDate?"":"This field is required",o.doseNumber=b.doseNumber?"":"This field is required",o.location=b.location?"":"This field is required",o.batchNumber=b.batchNumber?"":"This field is required",o.adverseEffect=b.adverseEffect?"":"This field is required",a({...o}),Object.values(o).every((e=>""==e))&&ee.a.post("".concat(te,"covid/vaccinations"),b,{headers:{Authorization:"Bearer ".concat(ae)}}).then((t=>{m(!1),u({adverseEffect:"",batchNumber:"",doseNumber:"",location:"",patientId:r.id,vaccinationFacility:"",vaccine:"",vaccineDate:""}),n.b.success("Patient Vaccination Successful"),e.toggle(),e.loadPatients()})).catch((e=>{m(!1),n.b.error("Something went wrong")}))},disabled:Je<5||h?"true":"",style:{backgroundColor:"#014d88",fontWeight:"bolder"},children:h?"Saving":"Save"}),Object(je.jsx)(ce.a,{variant:"contained",color:"default",onClick:()=>(u({adverseEffect:"",batchNumber:"",doseNumber:"",location:"",patientId:r.id,vaccinationFacility:"",vaccine:"",vaccineDate:""}),void e.toggle()),style:{backgroundColor:"#992E62",color:"#fff"},className:c.button,startIcon:Object(je.jsx)(Qe.a,{}),children:"Cancel"})]})})})]})})})};Z.a.locale("en"),K()();const et={Add:Object(i.forwardRef)(((e,t)=>Object(je.jsx)(O.a,{...e,ref:t}))),Check:Object(i.forwardRef)(((e,t)=>Object(je.jsx)(g.a,{...e,ref:t}))),Clear:Object(i.forwardRef)(((e,t)=>Object(je.jsx)(I.a,{...e,ref:t}))),Delete:Object(i.forwardRef)(((e,t)=>Object(je.jsx)(A.a,{...e,ref:t}))),DetailPanel:Object(i.forwardRef)(((e,t)=>Object(je.jsx)(S.a,{...e,ref:t}))),Edit:Object(i.forwardRef)(((e,t)=>Object(je.jsx)(R.a,{...e,ref:t}))),Export:Object(i.forwardRef)(((e,t)=>Object(je.jsx)(q.a,{...e,ref:t}))),Filter:Object(i.forwardRef)(((e,t)=>Object(je.jsx)(B.a,{...e,ref:t}))),FirstPage:Object(i.forwardRef)(((e,t)=>Object(je.jsx)(P.a,{...e,ref:t}))),LastPage:Object(i.forwardRef)(((e,t)=>Object(je.jsx)(_.a,{...e,ref:t}))),NextPage:Object(i.forwardRef)(((e,t)=>Object(je.jsx)(S.a,{...e,ref:t}))),PreviousPage:Object(i.forwardRef)(((e,t)=>Object(je.jsx)(N.a,{...e,ref:t}))),ResetSearch:Object(i.forwardRef)(((e,t)=>Object(je.jsx)(I.a,{...e,ref:t}))),Search:Object(i.forwardRef)(((e,t)=>Object(je.jsx)(Y.a,{...e,ref:t}))),SortArrow:Object(i.forwardRef)(((e,t)=>Object(je.jsx)(x.a,{...e,ref:t}))),ThirdStateCheck:Object(i.forwardRef)(((e,t)=>Object(je.jsx)(M.a,{...e,ref:t}))),ViewColumn:Object(i.forwardRef)(((e,t)=>Object(je.jsx)(W.a,{...e,ref:t})))};var tt=e=>{const[t,a]=Object(i.useState)([]),c=e&&e.patientObj?e.patientObj:[],[o,s]=Object(i.useState)(!1),l=()=>s(!o),[d,j]=r.a.useState(!1),b=()=>j(!d),[u,h]=Object(i.useState)(null),[v,O]=Object(i.useState)(!1);Object(i.useEffect)((()=>{p()}));const p=Object(i.useCallback)((async()=>{try{const e=await ee.a.get("".concat(te,"covid/vaccinations/patients/").concat(c.id),{headers:{Authorization:"Bearer ".concat(ae)}});a(e.data)}catch(e){}}),[c.id,a]);console.log(u);return Object(je.jsxs)("div",{children:[Object(je.jsx)(Be.a,{children:Object(je.jsx)(Ee.a,{children:Object(je.jsx)(m.a,{icons:et,title:"Patient Vaccination History ",columns:[{title:"Vaccine",field:"vaccine",filtering:!1},{title:"Vaccine Date",field:"vaccineDate"},{title:"Dose Number",field:"doseNumber",filtering:!1},{title:"Location",field:"location",filtering:!1},{title:"Batch Number",field:"batchNumber",filtering:!1},{title:"Adverse Effect ",field:"adverseEffect",filtering:!1},{title:"Vaccination Facility",field:"vaccinationFacility",filtering:!1},{title:"Actions",field:"actions",filtering:!1}],data:t.map((e=>({vaccine:e.vaccineName,vaccineDate:e.vaccineDate,batchNumber:e.batchNumber,doseNumber:e.doseNumber,location:e.location,vaccinationFacility:e.vaccinationFacility,adverseEffect:e.adverseEffect,actions:Object(je.jsx)("div",{children:Object(je.jsx)(Re.a.Menu,{position:"right",children:Object(je.jsx)(Re.a.Item,{children:Object(je.jsx)(ce.a,{style:{backgroundColor:"rgb(153,46,98)",color:"#fff"},primary:!0,children:Object(je.jsx)(Pe.a,{item:!0,text:"Action",children:Object(je.jsxs)(Pe.a.Menu,{style:{marginTop:"10px"},children:[Object(je.jsxs)(Pe.a.Item,{onClick:()=>(e=>{h(e),l()})(e),children:[Object(je.jsx)(Fe.a,{name:"edit"}),"Edit"]}),Object(je.jsxs)(Pe.a.Item,{onClick:()=>(e=>{b(),h(e)})(e),children:[" ",Object(je.jsx)(Fe.a,{name:"trash"})," Delete"]})]})})})})})})}))),options:{headerStyle:{backgroundColor:"#014d88",color:"#fff"},searchFieldStyle:{width:"200%",margingLeft:"250px"},filtering:!1,exportButton:!1,searchFieldAlignment:"left",pageSizeOptions:[10,20,100],pageSize:10,debounceInterval:400}})})}),Object(je.jsx)($e,{toggle:l,showModal:o,patientObj:e.patientObj,loadPatients:p,records:u}),Object(je.jsxs)(_e.a,{show:d,toggle:b,className:"fade",size:"md","aria-labelledby":"contained-modal-title-vcenter",centered:!0,backdrop:"static",children:[Object(je.jsx)(_e.a.Header,{children:Object(je.jsx)(_e.a.Title,{id:"contained-modal-title-vcenter",children:"Notification!"})}),Object(je.jsx)(_e.a.Body,{children:Object(je.jsxs)("h4",{children:["Are you Sure you want to delete -"," ",Object(je.jsx)("b",{children:u&&u.batchNumber})]})}),Object(je.jsxs)(_e.a.Footer,{children:[Object(je.jsx)(ce.a,{onClick:()=>(O(!0),void ee.a.delete("".concat(te,"covid/vaccinations/").concat(u.id),{headers:{Authorization:"Bearer ".concat(ae)}}).then((e=>{n.b.success("Record Deleted Successfully"),p(),b(),O(!1)})).catch((e=>{if(O(!1),e.response&&e.response.data){let t=e.response.data.apierror&&""!==e.response.data.apierror.message?e.response.data.apierror.message:"Something went wrong, please try again";n.b.error(t)}else n.b.error("Something went wrong. Please try again...")}))),style:{backgroundColor:"red",color:"#fff"},disabled:v,children:!1===v?"Yes":"Deleting..."}),Object(je.jsx)(ce.a,{onClick:b,style:{backgroundColor:"#014d88",color:"#fff"},disabled:v,children:"No"})]})]})]})},at=a(89),it=a(46),rt=a(912),ct=a(913);a(279);const ot=async e=>{const t=await ee.a.get("".concat(te,"application-codesets/v2/").concat(e),{headers:{Authorization:"Bearer ".concat(ae)}});return null===t||void 0===t?void 0:t.data};var st=a(245),nt=a(35);var lt=a(394);at.b.add(it.a,it.b,it.c,it.d);const dt=Object(Ue.a)((e=>({card:{margin:e.spacing(20),display:"flex",flexDirection:"column",alignItems:"center"},form:{width:"100%",marginTop:e.spacing(3)},submit:{margin:e.spacing(3,0,2)},cardBottom:{marginBottom:20},Select:{height:45,width:300},button:{margin:e.spacing(1)},root:{"& > *":{margin:e.spacing(1)},"& .card-title":{color:"#fff",fontWeight:"bold"},"& .form-control":{borderRadius:"0.25rem",height:"41px"},"& .card-header:first-child":{borderRadius:"calc(0.25rem - 1px) calc(0.25rem - 1px) 0 0"},"& .dropdown-toggle::after":{display:" block !important"},"& select":{"-webkit-appearance":"listbox !important"},"& p":{color:"red"},"& label":{fontSize:"14px",color:"#014d88",fontWeight:"bold"}},demo:{backgroundColor:e.palette.background.default},inline:{display:"inline"},error:{color:"#f85032",fontSize:"12.8px"},success:{color:"#4BB543 ",fontSize:"11px"}})));var jt=e=>{var t,a,r,c,o,s,n,l,d,j,b;const u=dt(),h=(null===e||void 0===e||null===(t=e.patientObj)||void 0===t?void 0:t.dateOfBirth)||(null===e||void 0===e||null===(a=e.patientObj)||void 0===a?void 0:a.dob),[m]=Object(i.useState)((e=>{const t=U(e),a=U(),i=a.diff(t,"weeks"),r=a.diff(t,"months"),c=a.diff(t,"years");return i<6?"IMMUNIZATION_VACCINE_AT_BIRTH":i>=6&&i<10?"IMMUNIZATION_VACCINE_AT_6 WEEKS":i>=10&&i<14?"IMMUNIZATION_VACCINE_AT_10 WEEKS":i>=14&&r<6?"IMMUNIZATION_VACCINE_AT_14 WEEKS":r>=6&&r<9?"IMMUNIZATION_VACCINE_AT_6 MONTHS":r>=9&&r<15?"IMMUNIZATION_VACCINE_AT_9 MONTHS":r>=15&&c<9?"IMMUNIZATION_VACCINE_AT_15 MONTHS":c>=9?"IMMUNIZATION_VACCINE_AT_9 YEARS":"ROUTINE_IMMUNIZATION_VACCINE_TYPE"})(h)),{data:v,isLoading:O}=Object(Q.a)([m],(()=>ot(m))),{data:p,isLoading:x}=Object(Q.a)(["ROUTINE_IMMUNIZATION_VACCINE_TYPE"],(()=>ot("ROUTINE_IMMUNIZATION_VACCINE_TYPE"))),{formik:f}=(e=>{const t=nt.a({vaccineType:nt.b().required("This field is required"),vaccineDetail:nt.b().required("This field is required"),missedVaccine:nt.b().required("This field is required"),missedVaccineType:nt.b().when("missedVaccine",{is:e=>"yes"===(null===e||void 0===e?void 0:e.toLowerCase()),then:nt.b().required("This field is required"),otherwise:nt.b()})});return{formik:Object(st.a)({initialValues:{vaccineType:"",vaccineDetail:"",missedVaccine:"",missedVaccineType:""},onSubmit:e,validationSchema:t})}})(),g=Object(lt.useHistory)();return Object(je.jsx)(rt.a,{className:u.root,style:{marginTop:20},children:Object(je.jsx)(ct.a,{children:Object(je.jsx)("div",{className:"col-xl-12 col-lg-12",children:Object(je.jsxs)(Me.a,{children:[Object(je.jsxs)("div",{className:"card",children:[Object(je.jsx)("div",{className:"card-header",style:{backgroundColor:"#014d88",color:"#fff"},children:Object(je.jsxs)("h5",{className:"card-title",style:{color:"#fff"},children:[" ","Routine Immunization"]})}),Object(je.jsx)("div",{className:"card-body",children:Object(je.jsxs)("div",{className:"row",children:[Object(je.jsxs)("div",{className:"form-group mb-3 col-md-12",children:[Object(je.jsxs)(Ye.a,{children:["Type of vaccine ",O&&"Loading vaccine ..."]}),Object(je.jsxs)("select",{className:"form-control",name:"vaccineType",id:"vaccineType",style:{border:"1px solid #014D88",borderRadius:"0.2rem"},onChange:f.handleChange,onBlur:f.handleBlur,value:null===f||void 0===f||null===(r=f.values)||void 0===r?void 0:r.vaccineType,children:[Object(je.jsx)("option",{children:"Select vaccine type"}),null===v||void 0===v?void 0:v.map((e=>Object(je.jsx)("option",{value:null===e||void 0===e?void 0:e.code,children:null===e||void 0===e?void 0:e.display},null===e||void 0===e?void 0:e.id)))]}),(null===f||void 0===f||null===(c=f.touched)||void 0===c?void 0:c.vaccineType)&&(null===f||void 0===f?void 0:f.errors.vaccineType)&&Object(je.jsx)("span",{className:u.error,children:null===f||void 0===f?void 0:f.errors.vaccineType})]}),Object(je.jsxs)("div",{className:"form-group mb-3 col-md-12",children:[Object(je.jsx)(Ye.a,{children:"Detail of vaccine"}),Object(je.jsx)("textarea",{className:"form-control",name:"vaccineDetail",id:"vaccineDetail",style:{height:150,border:"1px solid #014D88",borderRadius:"0.2rem"},onChange:f.handleChange,onBlur:f.handleBlur,value:null===f||void 0===f||null===(o=f.values)||void 0===o?void 0:o.vaccineDetail}),(null===f||void 0===f||null===(s=f.touched)||void 0===s?void 0:s.vaccineDetail)&&(null===f||void 0===f?void 0:f.errors.vaccineDetail)&&Object(je.jsx)("span",{className:u.error,children:null===f||void 0===f?void 0:f.errors.vaccineDetail})]}),Object(je.jsxs)("div",{className:"form-group mb-3 col-md-12",children:[Object(je.jsx)(Ye.a,{children:"Any missed vaccination ?"}),Object(je.jsxs)("select",{className:"form-control",name:"missedVaccine",id:"missedVaccine",style:{border:"1px solid #014D88",borderRadius:"0.2rem"},onChange:e=>{f.setFieldValue("missedVaccineType",null),f.setFieldValue("missedVaccine",e.target.value)},onBlur:f.handleBlur,value:null===f||void 0===f||null===(n=f.values)||void 0===n?void 0:n.missedVaccine,children:[Object(je.jsx)("option",{children:"Select option"}),Object(je.jsx)("option",{value:"yes",children:"Yes"}),Object(je.jsx)("option",{value:"no",children:"No"})]}),(null===f||void 0===f||null===(l=f.touched)||void 0===l?void 0:l.missedVaccine)&&(null===f||void 0===f?void 0:f.errors.missedVaccine)&&Object(je.jsx)("span",{className:u.error,children:null===f||void 0===f?void 0:f.errors.missedVaccine})]}),"yes"===(null===f||void 0===f||null===(d=f.values)||void 0===d?void 0:d.missedVaccine)&&Object(je.jsxs)("div",{className:"form-group mb-3 col-md-12",children:[Object(je.jsxs)(Ye.a,{children:["Enter missed vaccine"," ",x&&"Loading vaccine ..."]}),Object(je.jsxs)("select",{className:"form-control",name:"missedVaccineType",id:"missedVaccineType",style:{border:"1px solid #014D88",borderRadius:"0.2rem"},onChange:f.handleChange,onBlur:f.handleBlur,value:null===f||void 0===f||null===(j=f.values)||void 0===j?void 0:j.missedVaccineType,children:[Object(je.jsx)("option",{value:"",children:"Select vaccine type"}),null===p||void 0===p?void 0:p.map((e=>Object(je.jsx)("option",{value:null===e||void 0===e?void 0:e.code,children:null===e||void 0===e?void 0:e.display},null===e||void 0===e?void 0:e.id)))]}),(null===f||void 0===f||null===(b=f.touched)||void 0===b?void 0:b.missedVaccineType)&&(null===f||void 0===f?void 0:f.errors.missedVaccineType)&&Object(je.jsx)("span",{className:u.error,children:null===f||void 0===f?void 0:f.errors.missedVaccineType})]})]})})]}),Object(je.jsx)(ce.a,{variant:"contained",color:"primary",className:u.button,startIcon:Object(je.jsx)(Ge.a,{}),style:{backgroundColor:"#014d88",fontWeight:"bolder"},onClick:async()=>{Object.keys(null===f||void 0===f?void 0:f.initialValues).forEach((e=>{null===f||void 0===f||f.setFieldTouched(e,!0)}));const e=await f.validateForm(),t=0===Object.keys(e).length;console.log(t,f.values)},children:O?Object(je.jsx)("span",{style:{textTransform:"capitalize"},children:"Saving..."}):Object(je.jsx)("span",{style:{textTransform:"capitalize"},children:"Save"})}),Object(je.jsx)(ce.a,{variant:"contained",className:u.button,startIcon:Object(je.jsx)(Qe.a,{}),style:{backgroundColor:"#992E62"},onClick:()=>g.push({pathname:"/",state:{patientObj:null===e||void 0===e?void 0:e.patientObj}}),children:Object(je.jsx)("span",{style:{textTransform:"capitalize",color:"#fff"},children:"Cancel"})})]})})})})};at.b.add(it.a,it.b,it.c,it.d);const bt=Object(Ue.a)((e=>({card:{margin:e.spacing(20),display:"flex",flexDirection:"column",alignItems:"center"},form:{width:"100%",marginTop:e.spacing(3)},submit:{margin:e.spacing(3,0,2)},cardBottom:{marginBottom:20},Select:{height:45,width:300},button:{margin:e.spacing(1)},root:{"& > *":{margin:e.spacing(1)},"& .card-title":{color:"#fff",fontWeight:"bold"},"& .form-control":{borderRadius:"0.25rem",height:"41px"},"& .card-header:first-child":{borderRadius:"calc(0.25rem - 1px) calc(0.25rem - 1px) 0 0"},"& .dropdown-toggle::after":{display:" block !important"},"& select":{"-webkit-appearance":"listbox !important"},"& p":{color:"red"},"& label":{fontSize:"14px",color:"#014d88",fontWeight:"bold"}},demo:{backgroundColor:e.palette.background.default},inline:{display:"inline"},error:{color:"#f85032",fontSize:"12.8px"},success:{color:"#4BB543 ",fontSize:"11px"}})));var ut=e=>{var t,a,i,r,c;const o=Object(s.useHistory)(),n=bt(),{data:l,isLoading:d}=Object(Q.a)(["TETANUS_VACCINE"],(()=>ot("TETANUS_VACCINE"))),j=async()=>{Object.keys(null===b||void 0===b?void 0:b.initialValues).forEach((e=>{null===b||void 0===b||b.setFieldTouched(e,!0)}));const e=await b.validateForm(),t=0===Object.keys(e).length;console.log(t,b.errors)},{formik:b}=(e=>{const t=nt.a({vaccineType:nt.b().required("This field is required"),vaccineResult:nt.b().when("vaccineType",{is:e=>""!==e,then:nt.b().required("This field is required"),otherwise:nt.b()})});return{formik:Object(st.a)({initialValues:{vaccineType:"",vaccineResult:""},onSubmit:e,validationSchema:t})}})(j);return Object(je.jsx)(Be.a,{className:n.root,children:Object(je.jsx)(ct.a,{children:Object(je.jsx)("div",{className:"col-xl-12 col-lg-12",children:Object(je.jsxs)(Me.a,{children:[Object(je.jsx)("div",{className:"card",children:Object(je.jsx)("div",{className:"card-header",style:{backgroundColor:"#014d88",color:"#fff",fontWeight:"bolder",borderRadius:"0.2rem"},children:Object(je.jsx)("h5",{className:"card-title",style:{color:"#fff"},children:"Tetanus"})})}),Object(je.jsx)("div",{className:"card-body",children:Object(je.jsxs)("div",{className:"row",children:[Object(je.jsx)("div",{className:"form-group mb-3 col-md-6",children:Object(je.jsxs)(Le.a,{children:[Object(je.jsxs)(Ye.a,{children:["Type of vaccine ",d&&"Loading vaccine ...",Object(je.jsx)("span",{style:{color:"red"},children:" *"})]}),Object(je.jsxs)(He.a,{type:"select",name:"vaccineType",id:"vaccineType",onChange:b.handleChange,onBlur:b.handleBlur,value:null===(t=b.values)||void 0===t?void 0:t.vaccineType,disable:d,children:[Object(je.jsx)("option",{children:"Select"}),!d&&(null===l||void 0===l?void 0:l.map((e=>Object(je.jsx)("option",{value:e.id,children:(null===e||void 0===e?void 0:e.name)||(null===e||void 0===e?void 0:e.display)},null===e||void 0===e?void 0:e.id))))]}),(null===b||void 0===b||null===(a=b.touched)||void 0===a?void 0:a.vaccineType)&&(null===b||void 0===b?void 0:b.errors.vaccineType)&&Object(je.jsx)("span",{className:n.error,children:null===b||void 0===b?void 0:b.errors.vaccineType})]})}),""!==(null===b||void 0===b||null===(i=b.values)||void 0===i?void 0:i.vaccineType)&&Object(je.jsx)("div",{className:"form-group mb-3 col-md-6",children:Object(je.jsxs)(Le.a,{children:[Object(je.jsxs)(Ye.a,{children:["Vaccine results",Object(je.jsx)("span",{style:{color:"red"},children:" *"})]}),Object(je.jsx)(He.a,{type:"text",name:"vaccineResult",id:"vaccineResult",onChange:b.handleChange,onBlur:b.handleBlur,value:null===(r=b.values)||void 0===r?void 0:r.vaccineResult}),(null===b||void 0===b||null===(c=b.touched)||void 0===c?void 0:c.vaccineResult)&&(null===b||void 0===b?void 0:b.errors.vaccineResult)&&Object(je.jsx)("span",{className:n.error,children:null===b||void 0===b?void 0:b.errors.vaccineResult})]})})]})}),Object(je.jsx)("br",{}),Object(je.jsx)(ce.a,{type:"button",variant:"contained",color:"primary",className:n.button,startIcon:Object(je.jsx)(Ge.a,{}),onClick:j,style:{backgroundColor:"#014d88",fontWeight:"bolder"},children:Object(je.jsx)("span",{style:{textTransform:"capitalize"},children:"Save"})}),Object(je.jsx)(ce.a,{variant:"contained",className:n.button,startIcon:Object(je.jsx)(Qe.a,{}),style:{backgroundColor:"#992E62"},onClick:()=>o.push({pathname:"/"}),children:Object(je.jsx)("span",{style:{textTransform:"capitalize",color:"#fff"},children:"Cancel"})})]})})})})};at.b.add(it.a,it.b,it.c,it.d);const ht=Object(Ue.a)((e=>({card:{margin:e.spacing(20),display:"flex",flexDirection:"column",alignItems:"center"},form:{width:"100%",marginTop:e.spacing(3)},submit:{margin:e.spacing(3,0,2)},cardBottom:{marginBottom:20},Select:{height:45,width:300},button:{margin:e.spacing(1)},root:{"& > *":{margin:e.spacing(1)},"& .card-title":{color:"#fff",fontWeight:"bold"},"& .form-control":{borderRadius:"0.25rem",height:"41px"},"& .card-header:first-child":{borderRadius:"calc(0.25rem - 1px) calc(0.25rem - 1px) 0 0"},"& .dropdown-toggle::after":{display:" block !important"},"& select":{"-webkit-appearance":"listbox !important"},"& p":{color:"red"},"& label":{fontSize:"14px",color:"#014d88",fontWeight:"bold"}},demo:{backgroundColor:e.palette.background.default},inline:{display:"inline"},error:{color:"#f85032",fontSize:"12.8px"},success:{color:"#4BB543 ",fontSize:"11px"}})));var mt=()=>{var e,t,a,i,r,c,o,s,n,l,d,j,b,u,h,m,v,O,p,x,f,g,y;const N=ht(),{data:C}=Object(Q.a)(["GET_CODESETS","COVID_ADVERSE_EFFECT"],(()=>(async e=>(await ee.a.get("".concat(te,"application-codesets/v2/").concat(e),{headers:{Authorization:"Bearer ".concat(ae)}})).data)("COVID_ADVERSE_EFFECT"))),{data:S}=Object(Q.a)(["COVID_VACCINES"],(()=>(async e=>(await ee.a.get("".concat(te,"covid/codeset?category=VACCINE"),{headers:{Authorization:"Bearer ".concat(ae)}})).data)())),w=Object(lt.useHistory)(),{formik:I}=(e=>{const t=nt.a({workInHealthSector:nt.b().required("This field is required"),knownMedicalCondition:nt.b().required("This field is required"),medicalCondition:nt.b().when("knownMedicalCondition",{is:e=>"yes"===(null===e||void 0===e?void 0:e.toLowerCase()),then:nt.b().required("This field is required"),otherwise:nt.b()}),adverseEffect:nt.b().required("This field is required"),adverseEffectOption:nt.b().when("adverseEffect",{is:e=>"yes"===(null===e||void 0===e?void 0:e.toLowerCase()),then:nt.b().required("This field is required"),otherwise:nt.b()}),vaccineType:nt.b().required("This field is required"),dateOfFirstDosage:nt.b().required("This field is required"),location:nt.b().required("This field is required"),vaccinationFacility:nt.b().when("location",{is:e=>"facility"===(null===e||void 0===e?void 0:e.toLowerCase()),then:nt.b().required("This field is required"),otherwise:nt.b()}),batchNumber:nt.b().required("This field is required")});return{formik:Object(st.a)({initialValues:{workInHealthSector:"",knownMedicalCondition:"",medicalCondition:"",adverseEffect:"",adverseEffectOption:"",vaccineType:"",dateOfFirstDosage:"",location:"",vaccinationFacility:"",batchNumber:""},onSubmit:e,validationSchema:t})}})();return Object(je.jsx)("div",{children:Object(je.jsx)(rt.a,{className:N.root,children:Object(je.jsx)(ct.a,{children:Object(je.jsx)("div",{className:"col-xl-12 col-lg-12",children:Object(je.jsxs)(Me.a,{children:[Object(je.jsxs)("div",{className:"card",children:[Object(je.jsx)("div",{className:"card-header",style:{backgroundColor:"#014d88",color:"#fff",fontWeight:"bolder",borderRadius:"0.2rem"},children:Object(je.jsx)("h5",{className:"card-title",style:{color:"#fff"},children:"COVID-19 First Dosage"})}),Object(je.jsx)("div",{className:"card-body",children:Object(je.jsxs)("div",{className:"row",children:[Object(je.jsx)("div",{className:"form-group mb-3 col-md-6",children:Object(je.jsxs)(Le.a,{children:[Object(je.jsxs)(Ye.a,{children:["Do you work in the Health sector ?",Object(je.jsx)("span",{style:{color:"red"},children:" *"})]}),Object(je.jsxs)(He.a,{type:"select",name:"workInHealthSector",id:"workInHealthSector",onChange:I.handleChange,onBlur:I.handleBlur,value:null===(e=I.values)||void 0===e?void 0:e.workInHealthSector,children:[Object(je.jsx)("option",{value:"",children:"Select"}),Object(je.jsx)("option",{value:"YES",children:"Yes"}),Object(je.jsx)("option",{value:"NO",children:"No"})]}),(null===I||void 0===I||null===(t=I.touched)||void 0===t?void 0:t.workInHealthSector)&&(null===I||void 0===I?void 0:I.errors.workInHealthSector)&&Object(je.jsx)("span",{className:N.error,children:null===I||void 0===I?void 0:I.errors.workInHealthSector})]})}),Object(je.jsx)("div",{className:"form-group mb-3 col-md-6",children:Object(je.jsxs)(Le.a,{children:[Object(je.jsxs)(Ye.a,{children:["Any known medical condition ?"," ",Object(je.jsx)("span",{style:{color:"red"},children:" *"})]}),Object(je.jsxs)(He.a,{type:"select",name:"knownMedicalCondition",id:"knownMedicalCondition",onChange:I.handleChange,onBlur:I.handleBlur,value:null===(a=I.values)||void 0===a?void 0:a.knownMedicalCondition,children:[Object(je.jsx)("option",{value:"",children:"Select"}),Object(je.jsx)("option",{value:"YES",children:"Yes"}),Object(je.jsx)("option",{value:"NO",children:"No"})]}),(null===I||void 0===I||null===(i=I.touched)||void 0===i?void 0:i.knownMedicalCondition)&&(null===I||void 0===I?void 0:I.errors.knownMedicalCondition)&&Object(je.jsx)("span",{className:N.error,children:null===I||void 0===I?void 0:I.errors.knownMedicalCondition})]})}),"YES"===(null===I||void 0===I||null===(r=I.values)||void 0===r?void 0:r.knownMedicalCondition)&&Object(je.jsx)("div",{className:"form-group mb-3 col-md-6",children:Object(je.jsxs)(Le.a,{children:[Object(je.jsxs)(Ye.a,{for:"medicalCondition",children:["Medical conditions"," ",Object(je.jsx)("span",{style:{color:"red"},children:" *"})]}),Object(je.jsx)(He.a,{className:"form-control",type:"text",name:"medicalCondition",id:"medicalCondition",onChange:I.handleChange,onBlur:I.handleBlur,value:null===(c=I.values)||void 0===c?void 0:c.medicalCondition,style:{border:"1px solid #014D88",borderRadius:"0.2rem"}}),(null===I||void 0===I||null===(o=I.touched)||void 0===o?void 0:o.medicalCondition)&&(null===I||void 0===I?void 0:I.errors.medicalCondition)&&Object(je.jsx)("span",{className:N.error,children:null===I||void 0===I?void 0:I.errors.medicalCondition})]})}),Object(je.jsx)("div",{className:"form-group mb-3 col-md-6",children:Object(je.jsxs)(Le.a,{children:[Object(je.jsxs)(Ye.a,{for:"adverseEffect",children:["Adverse Effect"," ",Object(je.jsx)("span",{style:{color:"red"},children:" *"})]}),Object(je.jsxs)(He.a,{type:"select",name:"adverseEffect",id:"adverseEffect",onChange:I.handleChange,onBlur:I.handleBlur,value:null===(s=I.values)||void 0===s?void 0:s.adverseEffect,children:[Object(je.jsx)("option",{value:"",children:"Select"}),Object(je.jsx)("option",{value:"YES",children:"Yes"}),Object(je.jsx)("option",{value:"NO",children:"No"})]}),(null===I||void 0===I||null===(n=I.touched)||void 0===n?void 0:n.adverseEffect)&&(null===I||void 0===I?void 0:I.errors.adverseEffect)&&Object(je.jsx)("span",{className:N.error,children:null===I||void 0===I?void 0:I.errors.adverseEffect})]})}),"YES"===(null===I||void 0===I||null===(l=I.values)||void 0===l?void 0:l.adverseEffect)&&Object(je.jsx)("div",{className:"form-group mb-3 col-md-6",children:Object(je.jsxs)(Le.a,{children:[Object(je.jsxs)(Ye.a,{for:"adverseEffectOption",children:["Reaction Type (Adverse Effect)"," ",Object(je.jsx)("span",{style:{color:"red"},children:" *"})]}),Object(je.jsxs)(He.a,{type:"select",name:"adverseEffectOption",id:"adverseEffectOption",onChange:I.handleChange,onBlur:I.handleBlur,value:null===(d=I.values)||void 0===d?void 0:d.adverseEffectOption,children:[Object(je.jsx)("option",{value:"",children:"Select"}),null===C||void 0===C?void 0:C.map((e=>Object(je.jsx)("option",{value:null===e||void 0===e?void 0:e.id,children:null===e||void 0===e?void 0:e.display},null===e||void 0===e?void 0:e.id)))]}),(null===I||void 0===I||null===(j=I.touched)||void 0===j?void 0:j.adverseEffectOption)&&(null===I||void 0===I?void 0:I.errors.adverseEffectOption)&&Object(je.jsx)("span",{className:N.error,children:null===I||void 0===I?void 0:I.errors.adverseEffectOption})]})}),Object(je.jsx)("div",{className:"form-group mb-3 col-md-6",children:Object(je.jsxs)(Le.a,{children:[Object(je.jsxs)(Ye.a,{for:"vaccineType",children:["Vaccine ",Object(je.jsx)("span",{style:{color:"red"},children:" *"})]}),Object(je.jsxs)(He.a,{type:"select",name:"vaccineType",id:"vaccineType",onChange:I.handleChange,onBlur:I.handleBlur,value:null===(b=I.values)||void 0===b?void 0:b.vaccineType,children:[Object(je.jsx)("option",{value:"",children:"Select"}),null===S||void 0===S?void 0:S.map((e=>Object(je.jsx)("option",{value:null===e||void 0===e?void 0:e.id,children:null===e||void 0===e?void 0:e.name},null===e||void 0===e?void 0:e.id)))]}),(null===I||void 0===I||null===(u=I.touched)||void 0===u?void 0:u.vaccineType)&&(null===I||void 0===I?void 0:I.errors.vaccineType)&&Object(je.jsx)("span",{className:N.error,children:null===I||void 0===I?void 0:I.errors.vaccineType})]})}),Object(je.jsx)("div",{className:"form-group mb-3 col-md-6",children:Object(je.jsxs)(Le.a,{children:[Object(je.jsxs)(Ye.a,{for:"dateOfFirstDosage",children:["Date of First Dosage"," ",Object(je.jsx)("span",{style:{color:"red"},children:" *"})]}),Object(je.jsx)(He.a,{type:"date",name:"dateOfFirstDosage",id:"dateOfFirstDosage",max:U(new Date).format("YYYY-MM-DD"),onChange:I.handleChange,onBlur:I.handleBlur,value:null===(h=I.values)||void 0===h?void 0:h.dateOfFirstDosage}),(null===I||void 0===I||null===(m=I.touched)||void 0===m?void 0:m.dateOfFirstDosage)&&(null===I||void 0===I?void 0:I.errors.dateOfFirstDosage)&&Object(je.jsx)("span",{className:N.error,children:null===I||void 0===I?void 0:I.errors.dateOfFirstDosage})]})}),Object(je.jsx)("div",{className:"form-group mb-3 col-md-6",children:Object(je.jsxs)(Le.a,{children:[Object(je.jsxs)(Ye.a,{children:["Location ",Object(je.jsx)("span",{style:{color:"red"},children:" *"})]}),Object(je.jsxs)(He.a,{type:"select",name:"location",id:"location",onChange:I.handleChange,onBlur:I.handleBlur,value:null===(v=I.values)||void 0===v?void 0:v.location,children:[Object(je.jsx)("option",{value:"",children:"Select"}),Object(je.jsx)("option",{value:"Facility",children:"Facility"}),Object(je.jsx)("option",{value:"Community",children:"Community"})]}),(null===I||void 0===I||null===(O=I.touched)||void 0===O?void 0:O.location)&&(null===I||void 0===I?void 0:I.errors.location)&&Object(je.jsx)("span",{className:N.error,children:null===I||void 0===I?void 0:I.errors.location})]})}),"Facility"===(null===I||void 0===I||null===(p=I.values)||void 0===p?void 0:p.location)&&Object(je.jsx)("div",{className:"form-group mb-3 col-md-6",children:Object(je.jsxs)(Le.a,{children:[Object(je.jsxs)(Ye.a,{for:"vaccinationFacility",children:["Facility Name",Object(je.jsx)("span",{style:{color:"red"},children:" *"})]}),Object(je.jsx)(He.a,{type:"text",name:"vaccinationFacility",id:"vaccinationFacility",onChange:I.handleChange,onBlur:I.handleBlur,value:null===(x=I.values)||void 0===x?void 0:x.vaccinationFacility}),(null===I||void 0===I||null===(f=I.touched)||void 0===f?void 0:f.vaccinationFacility)&&(null===I||void 0===I?void 0:I.errors.vaccinationFacility)&&Object(je.jsx)("span",{className:N.error,children:null===I||void 0===I?void 0:I.errors.vaccinationFacility})]})}),Object(je.jsx)("div",{className:"form-group mb-3 col-md-6",children:Object(je.jsxs)(Le.a,{children:[Object(je.jsxs)(Ye.a,{for:"batchNumber",children:["Batch Number ",Object(je.jsx)("span",{style:{color:"red"},children:" *"})]}),Object(je.jsx)(He.a,{type:"text",name:"batchNumber",id:"batchNumber",onChange:I.handleChange,onBlur:I.handleBlur,value:null===(g=I.values)||void 0===g?void 0:g.batchNumber}),(null===I||void 0===I||null===(y=I.touched)||void 0===y?void 0:y.batchNumber)&&(null===I||void 0===I?void 0:I.errors.batchNumber)&&Object(je.jsx)("span",{className:N.error,children:null===I||void 0===I?void 0:I.errors.batchNumber})]})})]})})]}),"",Object(je.jsx)("br",{}),Object(je.jsx)(ce.a,{type:"button",variant:"contained",color:"primary",className:N.button,startIcon:Object(je.jsx)(Ge.a,{}),onClick:async()=>{Object.keys(null===I||void 0===I?void 0:I.initialValues).forEach((e=>{null===I||void 0===I||I.setFieldTouched(e,!0)}));const e=await I.validateForm(),t=0===Object.keys(e).length;console.log(t)},style:{backgroundColor:"#014d88",fontWeight:"bolder"},children:Object(je.jsx)("span",{style:{textTransform:"capitalize"},children:"Save"})}),Object(je.jsx)(ce.a,{variant:"contained",className:N.button,startIcon:Object(je.jsx)(Qe.a,{}),style:{backgroundColor:"#992E62"},onClick:()=>w.push({pathname:"/"}),children:Object(je.jsx)("span",{style:{textTransform:"capitalize",color:"#fff"},children:"Cancel"})})]})})})})})};at.b.add(it.a,it.b,it.c,it.d);var vt=e=>{const[t,a]=Object(i.useState)(""),r={FIRST:Object(je.jsx)(mt,{})};return Object(je.jsxs)("div",{children:[Object(je.jsx)(n.a,{autoClose:3e3,hideProgressBar:!0}),Object(je.jsx)("div",{style:{marginTop:10,marginBottom:20},children:Object(je.jsx)(re.b,{to:{pathname:"/",state:"users"},children:Object(je.jsx)(ce.a,{variant:"contained",color:"primary",className:" float-end mr-10 pr-10",style:{backgroundColor:"#014d88",fontWeight:"bolder",margingRight:"-40px"},startIcon:Object(je.jsx)(we.a,{}),children:Object(je.jsxs)("span",{style:{textTransform:"capitalize",color:"#fff"},children:["Back"," "]})})})}),Object(je.jsx)("br",{}),Object(je.jsx)("br",{}),Object(je.jsx)("div",{children:Object(je.jsx)("div",{className:"col-xl-12 col-lg-12",children:Object(je.jsx)("div",{className:"card",children:Object(je.jsx)("div",{className:"card-body",children:Object(je.jsx)("div",{className:"row",children:Object(je.jsx)("div",{className:"form-group mb-3 col-md-12",children:Object(je.jsxs)(Le.a,{children:[Object(je.jsxs)(Ye.a,{children:["Vaccine Dosage",Object(je.jsx)("span",{style:{color:"red"},children:" *"})]}),Object(je.jsxs)(He.a,{type:"select",name:"vaccineDosage",id:"vaccineDosage",value:t,onChange:e=>a(e.target.value),children:[Object(je.jsx)("option",{value:"",children:"Select option"}),Object(je.jsx)("option",{value:"FIRST",children:"First"}),Object(je.jsx)("option",{value:"SECOND",children:"Second"}),Object(je.jsx)("option",{value:"THIRD",children:"Third"})]})]})})})})})})}),t&&""!==t?r[t]:null]})};var Ot=Object(ge.a)((e=>({root:{width:"100%"},heading:{fontSize:e.typography.pxToRem(15)},secondaryHeading:{fontSize:e.typography.pxToRem(15),color:e.palette.text.secondary},icon:{verticalAlign:"bottom",height:20,width:20},details:{alignItems:"center"},column:{flexBasis:"20.33%"},helper:{borderLeft:"2px solid ".concat(e.palette.divider),padding:"".concat(e.spacing.unit,"px ").concat(2*e.spacing.unit,"px")},link:{color:e.palette.primary.main,textDecoration:"none","&:hover":{textDecoration:"underline"}}})))((function(e){let t=Object(s.useHistory)();const[a,r]=Object(i.useState)(!1),[c,o]=Object(i.useState)({route:"recent-history",id:"",activeTab:"home",actionType:"create",obj:{}}),{classes:n}=e,l=Object(i.useMemo)((()=>t.location&&t.location.state?t.location.state.patientObj:{}),[t.location]);return Object(je.jsxs)("div",{className:n.root,children:[Object(je.jsx)("div",{className:"row page-titles mx-0",style:{marginTop:"0px",marginBottom:"-10px"},children:Object(je.jsx)("ol",{className:"breadcrumb",children:Object(je.jsx)("li",{className:"breadcrumb-item active",children:Object(je.jsxs)("h4",{children:[" ",Object(je.jsx)(re.b,{to:"/",children:"Immunization /"})," Patient Dashboard"]})})})}),Object(je.jsx)(ye.a,{children:Object(je.jsxs)(Ne.a,{children:[Object(je.jsx)(De,{patientObj:l,setArt:r,setActiveContent:o}),Object(je.jsx)(ke,{patientObj:l,art:a,setActiveContent:o}),Object(je.jsxs)("div",{children:["vaccination-history"===c.route&&Object(je.jsx)(tt,{patientObj:l,setActiveContent:o,activeContent:c}),"routine-immunization-patient"===c.route&&Object(je.jsx)(jt,{patientObj:l,setActiveContent:o,activeContent:c}),"tetanus-patient"===c.route&&Object(je.jsx)(ut,{patientObj:l,setActiveContent:o,activeContent:c}),"covid-patient"===c.route&&Object(je.jsx)(vt,{patientObj:l,setActiveContent:o,activeContent:c})]})]})})]})})),pt=a(418),xt=a.n(pt),ft=a(933),gt=a(624),yt=a(625),Nt=a.n(yt);a(859);at.b.add(it.a,it.b,it.c,it.d);const Ct=Object(Ue.a)((e=>({card:{margin:e.spacing(20),display:"flex",flexDirection:"column",alignItems:"center"},form:{width:"100%",marginTop:e.spacing(3)},submit:{margin:e.spacing(3,0,2)},cardBottom:{marginBottom:20},Select:{height:45,width:300},button:{margin:e.spacing(1)},root:{flexGrow:1,"& .card-title":{color:"#fff",fontWeight:"bold"},"& .form-control":{borderRadius:"0.25rem",height:"41px"},"& .card-header:first-child":{borderRadius:"calc(0.25rem - 1px) calc(0.25rem - 1px) 0 0"},"& .dropdown-toggle::after":{display:" block !important"},"& select":{"-webkit-appearance":"listbox !important"},"& p":{color:"red"},"& label":{fontSize:"14px",color:"#014d88",fontWeight:"bold"}},demo:{backgroundColor:e.palette.background.default},inline:{display:"inline"},error:{color:"#f85032",fontSize:"12.8px"},success:{color:"#4BB543 ",fontSize:"11px"}})));var St=e=>{var t,a;const[c,o]=Object(i.useState)({active:!0,streetAddress:"",address:[],contact:[],contactPoint:[],dateOfBirth:"",deceased:!1,deceasedDateTime:null,firstName:"",genderId:"",identifier:"",otherName:"",maritalStatusId:"",educationId:"",employmentStatusId:"",dateOfRegistration:"",isDateOfBirthEstimated:null,age:"",phoneNumber:"",altPhonenumber:"",dob:"",countryId:1,stateId:"",district:"",sexId:"",ninNumber:""}),[l,d]=Object(i.useState)({address:"",phone:"",firstName:"",email:"",relationshipId:"",lastName:"",middleName:""});let j=[];const[b,u]=Object(i.useState)([]),[h,m]=Object(i.useState)(!1),[v]=Object(i.useState)(!1),[O,p]=Object(i.useState)(!0),[x,f]=Object(i.useState)(!1),[g,y]=Object(i.useState)(null),[N,C]=Object(i.useState)([]),[S,w]=Object(i.useState)([]),[I,T]=Object(i.useState)([]),[A,D]=Object(i.useState)([]),[R,k]=Object(i.useState)([]),[B,E]=Object(i.useState)([]),[P,F]=Object(i.useState)([]),[_,z]=Object(i.useState)([]),[M,V]=Object(i.useState)({}),[q,L]=Object(i.useState)([]),[Y,H]=Object(i.useState)({person:"",hivEnrollment:""}),W=e.location&&e.location.state?e.location.state.user:null,Z=Ct(),G=Object(s.useHistory)(),K=Object(s.useLocation)(),[Q,J]=Object(i.useState)(!1),[X,$]=Object(i.useState)(!1),[ie,oe]=r.a.useState(!1),se=()=>oe(!ie),ne=K.state;let le=null;le=ne?ne.patientId:null;const be=Object(i.useCallback)((async()=>{if(le){var e,t,a,i,r,c,s,n,l;const j=await ee.a.get("".concat(te,"patient/").concat(le),{headers:{Authorization:"Bearer ".concat(ae)}}),b=await ee.a.get("".concat(te,"application-codesets/v2/SEX"),{headers:{Authorization:"Bearer ".concat(ae)}}),h=j.data;console.log("get patient",null===h||void 0===h||null===(e=h.contact)||void 0===e?void 0:e.contact),u(null===h||void 0===h||null===(t=h.contact)||void 0===t?void 0:t.contact),y(h.facilityId);const m=h.identifier,v=h.address,O=null===h||void 0===h?void 0:h.contactPoint,p=null===m||void 0===m||null===(a=m.identifier)||void 0===a?void 0:a.find((e=>"HospitalNumber"===e.type)),x=xt.a.find(b.data,{display:xt.a.upperFirst(xt.a.lowerCase(h.sex))}).id,f=fe(null===O||void 0===O||null===(i=O.contactPoint)||void 0===i?void 0:i.find((e=>"phone"===e.type))),g=null===O||void 0===O||null===(r=O.contactPoint)||void 0===r?void 0:r.find((e=>"email"===e.type)),N=fe(null===O||void 0===O||null===(c=O.contactPoint)||void 0===c?void 0:c.find((e=>"altphone"===e.type))),C=v&&null!==v&&void 0!==v&&v.address&&(null===v||void 0===v?void 0:v.address.length)>0?v.address[0]:null;C.stateId&&(d=C.stateId,ee.a.get("".concat(te,"organisation-units/parent-organisation-units/").concat(d),{headers:{Authorization:"Bearer ".concat(ae)}}).then((e=>{z(e.data.sort())})).catch((e=>{}))),o({active:!0,streetAddress:C.city,address:[],contact:[],contactPoint:[],dateOfBirth:"",deceased:!1,deceasedDateTime:null,hospitalNumber:p.value,firstName:h.firstName,lastName:h.surname,genderId:"",identifier:"",otherName:"",maritalStatusId:null===(s=h.maritalStatus)||void 0===s?void 0:s.id,educationId:null===(n=h.education)||void 0===n?void 0:n.id,employmentStatusId:null===(l=h.employmentStatus)||void 0===l?void 0:l.id,dateOfRegistration:h.dateOfRegistration,isDateOfBirthEstimated:"Actual"!==h.dateOfBirth,age:xe(h.dateOfBirth),phoneNumber:null===f||void 0===f?void 0:f.value,altPhonenumber:null===N||void 0===N?void 0:N.value,dob:h.dateOfBirth,countryId:1,stateId:C.stateId,district:parseInt(C.district),landmark:C.line[0],sexId:x,ninNumber:"",email:null===g||void 0===g?void 0:g.value})}var d}),[le]);Object(i.useEffect)((()=>{ue(),he(),me(),ve(),Oe(),pe(),ge(),ye(),be(),c.dateOfRegistration<c.dob&&n.b.error("Date of registration can not be earlier than date of birth")}),[be]);const ue=Object(i.useCallback)((async()=>{try{const e=await ee.a.get("".concat(te,"application-codesets/v2/SEX"),{headers:{Authorization:"Bearer ".concat(ae)}});C(e.data.sort())}catch(e){}}),[]),he=Object(i.useCallback)((async()=>{try{const e=await ee.a.get("".concat(te,"application-codesets/v2/MARITAL_STATUS"),{headers:{Authorization:"Bearer ".concat(ae)}});w(e.data.sort())}catch(e){}}),[]),me=Object(i.useCallback)((async()=>{try{const e=await ee.a.get("".concat(te,"application-codesets/v2/EDUCATION"),{headers:{Authorization:"Bearer ".concat(ae)}});T(e.data.sort())}catch(e){}}),[]),ve=Object(i.useCallback)((async()=>{try{const e=await ee.a.get("".concat(te,"application-codesets/v2/OCCUPATION"),{headers:{Authorization:"Bearer ".concat(ae)}});D(e.data.sort())}catch(e){}}),[]),Oe=Object(i.useCallback)((async()=>{try{const e=await ee.a.get("".concat(te,"application-codesets/v2/RELATIONSHIP"),{headers:{Authorization:"Bearer ".concat(ae)}});k(e.data.sort())}catch(e){}}),[]),pe=Object(i.useCallback)((async()=>{const e=await ee.a.get("".concat(te,"organisation-units/parent-organisation-units/0"),{headers:{Authorization:"Bearer ".concat(ae)}});L(e.data.sort())}),[]),xe=e=>{const t=new Date,a=(e.split("-"),new Date(e));return t.getFullYear()-a.getFullYear()},fe=e=>{var t;return void 0!==e&&null!==typeof(null===e||void 0===e?void 0:e.value)&&"undefined"!==typeof(null===e||void 0===e?void 0:e.value)&&"0"===(null===e||void 0===e||null===(t=e.value)||void 0===t?void 0:t.charAt(0))&&(e.value=e.value.replace("0","234")),e},ge=()=>{ee.a.get("".concat(te,"organisation-units/parent-organisation-units/0"),{headers:{Authorization:"Bearer ".concat(ae)}}).then((e=>{E(e.data)})).catch((e=>{}))};function ye(){ee.a.get("".concat(te,"organisation-units/parent-organisation-units/1"),{headers:{Authorization:"Bearer ".concat(ae)}}).then((e=>{F(e.data.sort())})).catch((e=>{}))}const Ne=e=>{"Actual"===e.target.value?p(!0):"Estimated"===e.target.value&&p(!1)},Ce=e=>{if(o({...c,[e.target.name]:e.target.value}),"firstName"===e.target.name&&""!==e.target.value){const t=Te(e.target.value);o({...c,[e.target.name]:t})}if("lastName"===e.target.name&&""!==e.target.value){const a=Te(e.target.value);o({...c,[e.target.name]:a})}if("middleName"===e.target.name&&""!==e.target.value){const i=Te(e.target.value);o({...c,[e.target.name]:i})}if("ninNumber"===e.target.name&&""!==e.target.value){const r=Ae(e.target.value.replace(/\D/g,""));o({...c,[e.target.name]:r})}if("hospitalNumber"===e.target.name&&""!==e.target.value){async function s(){const t=e.target.value;!0!==(await ee.a.post("".concat(te,"patient/exist/hospital-number"),t,{headers:{Authorization:"Bearer ".concat(ae),"Content-Type":"text/plain"}})).data?(J(!1),M.hospitalNumber="",$(!0)):(M.hospitalNumber="",n.b.error("Error! Hosiptal Number already exist"),J(!0),$(!1))}s()}},Se=e=>{const t=R.find((t=>t.id===e));return t?t.display:""},Ie=e=>{d({...l,[e.target.name]:e.target.value})},Te=e=>e.replace(/[^a-z]/gi,""),Ae=e=>e.slice(0,11),De=(e,t)=>{const a=Ae(e.target.value.replace(/\D/g,""));o({...c,[t]:a})};return Object(je.jsxs)(je.Fragment,{children:[Object(je.jsx)(n.a,{autoClose:3e3,hideProgressBar:!0}),Object(je.jsx)("div",{className:"row page-titles mx-0",style:{marginTop:"0px",marginBottom:"-10px"},children:Object(je.jsx)("ol",{className:"breadcrumb",children:Object(je.jsx)("li",{className:"breadcrumb-item active",children:Object(je.jsxs)("h4",{children:[" ",Object(je.jsx)(re.b,{to:"/",children:"Patient /"})," Patient Registration"]})})})}),Object(je.jsx)(re.b,{to:{pathname:"/",state:"users"},children:Object(je.jsx)(ce.a,{variant:"contained",color:"primary",className:" float-end mr-10 pr-10",style:{backgroundColor:"#014d88",fontWeight:"bolder",margingRight:"-40px"},startIcon:Object(je.jsx)(we.a,{}),children:Object(je.jsxs)("span",{style:{textTransform:"capitalize",color:"#fff"},children:["Back"," "]})})}),Object(je.jsx)("br",{}),Object(je.jsx)("br",{}),Object(je.jsx)(rt.a,{className:Z.root,children:Object(je.jsx)(ct.a,{children:Object(je.jsx)("div",{className:"col-xl-12 col-lg-12",children:Object(je.jsxs)(Me.a,{children:[Object(je.jsxs)("div",{className:"card",children:[Object(je.jsx)("div",{className:"card-header",style:{backgroundColor:"#014d88",color:"#fff",fontWeight:"bolder",borderRadius:"0.2rem"},children:Object(je.jsx)("h5",{className:"card-title",style:{color:"#fff"},children:null===W?"Basic Information":"Edit User Information"})}),Object(je.jsx)("div",{className:"card-body",children:Object(je.jsxs)("div",{className:"basic-form",children:[Object(je.jsxs)("div",{className:"row",children:[Object(je.jsx)("div",{className:"form-group mb-3 col-md-4",children:Object(je.jsxs)(Le.a,{children:[Object(je.jsxs)(Ye.a,{for:"dateOfRegistration",children:["Date of Registration"," ",Object(je.jsx)("span",{style:{color:"red"},children:" *"})," "]}),Object(je.jsx)(He.a,{className:"form-control",type:"date",name:"dateOfRegistration",id:"dateOfRegistration",min:"1983-12-31",max:U(new Date).format("YYYY-MM-DD"),value:c.dateOfRegistration,onChange:Ce,style:{border:"1px solid #014D88",borderRadius:"0.2rem"}}),""!==M.dateOfRegistration?Object(je.jsx)("span",{className:Z.error,children:M.dateOfRegistration}):""]})}),Object(je.jsx)("div",{className:"form-group mb-3 col-md-4",children:Object(je.jsxs)(Le.a,{children:[Object(je.jsxs)(Ye.a,{for:"patientId",children:["Hospital Number"," ",Object(je.jsx)("span",{style:{color:"red"},children:" *"})]}),Object(je.jsx)("input",{className:"form-control",type:"text",name:"hospitalNumber",id:"hospitalNumber",value:c.hospitalNumber,onChange:Ce,style:{border:"1px solid #014D88",borderRadius:"0.2rem"}}),""!==M.hospitalNumber?Object(je.jsx)("span",{className:Z.error,children:M.hospitalNumber}):"",!0===Q?Object(je.jsx)("span",{className:Z.error,children:"Hospital number already exist"}):""]})}),Object(je.jsx)("div",{className:"form-group mb-3 col-md-4",children:Object(je.jsxs)(Le.a,{children:[Object(je.jsxs)(Ye.a,{for:"ninNumber",children:["National Identity Number (NIN)"," "]}),Object(je.jsx)("input",{className:"form-control",type:"text",name:"ninNumber",value:c.ninNumber,id:"ninNumber",onChange:Ce,style:{border:"1px solid #014D88",borderRadius:"0.2rem"}})]})})]}),Object(je.jsxs)("div",{className:"row",children:[Object(je.jsx)("div",{className:"form-group mb-3 col-md-4",children:Object(je.jsxs)(Le.a,{children:[Object(je.jsxs)(Ye.a,{for:"firstName",children:["First Names ",Object(je.jsx)("span",{style:{color:"red"},children:" *"})]}),Object(je.jsx)(He.a,{className:"form-control",type:"text",name:"firstName",id:"firstName",value:c.firstName,onChange:Ce,style:{border:"1px solid #014D88",borderRadius:"0.2rem"}}),""!==M.firstName?Object(je.jsx)("span",{className:Z.error,children:M.firstName}):""]})}),Object(je.jsx)("div",{className:"form-group mb-3 col-md-4",children:Object(je.jsxs)(Le.a,{children:[Object(je.jsx)(Ye.a,{children:"Middle Name"}),Object(je.jsx)(He.a,{className:"form-control",type:"text",name:"middleName",id:"middleName",value:c.middleName,onChange:Ce,style:{border:"1px solid #014D88",borderRadius:"0.2rem"}})]})}),Object(je.jsx)("div",{className:"form-group mb-3 col-md-4",children:Object(je.jsxs)(Le.a,{children:[Object(je.jsxs)(Ye.a,{children:["Last Name ",Object(je.jsx)("span",{style:{color:"red"},children:" *"})]}),Object(je.jsx)("input",{className:"form-control",type:"text",name:"lastName",id:"lastName",value:c.lastName,onChange:Ce,style:{border:"1px solid #014D88",borderRadius:"0.2rem"}}),""!==M.lastName?Object(je.jsx)("span",{className:Z.error,children:M.lastName}):""]})})]}),Object(je.jsxs)("div",{className:"row",children:[Object(je.jsx)("div",{className:"form-group  col-md-4",children:Object(je.jsxs)(Le.a,{children:[Object(je.jsxs)(Ye.a,{children:["Sex ",Object(je.jsx)("span",{style:{color:"red"},children:" *"})]}),Object(je.jsxs)("select",{className:"form-control",name:"sexId",id:"sexId",onChange:Ce,value:c.sexId,style:{border:"1px solid #014D88",borderRadius:"0.2rem"},children:[Object(je.jsx)("option",{value:"",children:"Select"}),N.map(((e,t)=>Object(je.jsx)("option",{value:e.id,children:e.display},e.id)))]}),""!==M.sexId?Object(je.jsx)("span",{className:Z.error,children:M.sexId}):""]})}),Object(je.jsx)("div",{className:"form-group mb-2 col-md-2",children:Object(je.jsxs)(Le.a,{children:[Object(je.jsx)(Ye.a,{children:"Date Of Birth"}),Object(je.jsx)("div",{className:"radio",children:Object(je.jsxs)("label",{children:[Object(je.jsx)("input",{type:"radio",value:"Actual",name:"dateOfBirth",defaultChecked:!0,onChange:e=>Ne(e),style:{border:"1px solid #014D88",borderRadius:"0.2rem"}})," ","Actual"]})}),Object(je.jsx)("div",{className:"radio",children:Object(je.jsxs)("label",{children:[Object(je.jsx)("input",{type:"radio",value:"Estimated",name:"dateOfBirth",onChange:e=>Ne(e),style:{border:"1px solid #014D88",borderRadius:"0.2rem"}})," ","Estimated"]})})]})}),Object(je.jsx)("div",{className:"form-group mb-3 col-md-3",children:Object(je.jsxs)(Le.a,{children:[Object(je.jsx)(Ye.a,{children:"Date "}),Object(je.jsx)("input",{className:"form-control",type:"date",name:"dob",min:"1940-01-01",id:"dob",max:c.dateOfRegistration,value:c.dob,onChange:e=>{if(e.target.value){const t=new Date,a=new Date(e.target.value);let i=t.getFullYear()-a.getFullYear();c.age=i}else o({...c,age:""});o({...c,dob:e.target.value}),""!==c.age&&c.age>=60&&se()},style:{border:"1px solid #014D88",borderRadius:"0.2rem"}})]})}),Object(je.jsxs)("div",{className:"form-group mb-3 col-md-3",children:[Object(je.jsxs)(Le.a,{children:[Object(je.jsx)(Ye.a,{children:"Age"}),Object(je.jsx)("input",{type:"text",name:"age",className:"form-control",id:"age",min:"1",value:c.age,disabled:O,onChange:e=>{const t=e.target.value.replace(/\D/g,"");if(!O&&t){const e=new Date;e.setDate(15),e.setMonth(5);const a=U(e.toISOString()).add(-1*t,"years");c.dob=U(a).format("YYYY-MM-DD"),""!==t&&t>=60&&se()}o({...c,age:t})},style:{border:"1px solid #014D88",borderRadius:"0.2rem"}})]}),""!==c.age&&c.age>=80?Object(je.jsx)("span",{className:Z.error,children:"Are you sure of the age"}):""]})]}),Object(je.jsxs)("div",{className:"row",children:[Object(je.jsx)("div",{className:"form-group mb-3 col-md-3",children:Object(je.jsxs)(Le.a,{children:[Object(je.jsx)(Ye.a,{children:"Marital Status"}),Object(je.jsxs)("select",{className:"form-control",name:"maritalStatusId",id:"maritalStatusId",onChange:Ce,value:c.maritalStatusId,style:{border:"1px solid #014D88",borderRadius:"0.2rem"},children:[Object(je.jsx)("option",{value:"",children:"Select"}),S.map(((e,t)=>Object(je.jsx)("option",{value:e.id,children:e.display},e.id)))]})]})}),Object(je.jsx)("div",{className:"form-group  col-md-4",children:Object(je.jsxs)(Le.a,{children:[Object(je.jsxs)(Ye.a,{children:["Employment Status"," ",Object(je.jsx)("span",{style:{color:"red"},children:" *"})]}),Object(je.jsxs)("select",{className:"form-control",name:"employmentStatusId",id:"employmentStatusId",onChange:Ce,value:c.employmentStatusId,style:{border:"1px solid #014D88",borderRadius:"0.2rem"},children:[Object(je.jsx)("option",{value:"",children:"Select"}),A.map(((e,t)=>Object(je.jsx)("option",{value:e.id,children:e.display},e.id)))]}),""!==M.employmentStatusId?Object(je.jsx)("span",{className:Z.error,children:M.employmentStatusId}):""]})}),Object(je.jsx)("div",{className:"form-group  col-md-4",children:Object(je.jsxs)(Le.a,{children:[Object(je.jsxs)(Ye.a,{children:["Education Level"," ",Object(je.jsx)("span",{style:{color:"red"},children:" *"})]}),Object(je.jsxs)("select",{className:"form-control",name:"educationId",id:"educationId",onChange:Ce,value:c.educationId,style:{border:"1px solid #014D88",borderRadius:"0.2rem"},children:[Object(je.jsx)("option",{value:"",children:"Select"}),I.map(((e,t)=>Object(je.jsx)("option",{value:e.id,children:e.display},e.id)))]}),""!==M.educationId?Object(je.jsx)("span",{className:Z.error,children:M.educationId}):""]})})]})]})})]}),Object(je.jsxs)("div",{className:"card",children:[Object(je.jsx)("div",{className:"card-header",style:{backgroundColor:"#014d88",color:"#fff",fontWeight:"bolder",borderRadius:"0.2rem"},children:Object(je.jsx)("h5",{className:"card-title",style:{color:"#fff"},children:"Contact Details"})}),Object(je.jsxs)("div",{className:"card-body",children:[Object(je.jsxs)("div",{className:"row",children:[Object(je.jsx)("div",{className:"form-group  col-md-4",children:Object(je.jsxs)(Le.a,{children:[Object(je.jsxs)(Ye.a,{children:["Phone Number ",Object(je.jsx)("span",{style:{color:"red"},children:" *"})]}),Object(je.jsx)(He.a,{type:"text",name:"phoneNumber",id:"phoneNumber",onChange:e=>{De(e,"phoneNumber")},value:c.phoneNumber,style:{border:"1px solid #014D88",borderRadius:"0.2rem"},required:!0}),""!==M.phoneNumber?Object(je.jsx)("span",{className:Z.error,children:M.phoneNumber}):""]})}),Object(je.jsx)("div",{className:"form-group col-md-4",children:Object(je.jsxs)(Le.a,{children:[Object(je.jsx)(Ye.a,{children:"Alt. Phone Number"}),Object(je.jsx)(He.a,{type:"text",name:"altPhonenumber",id:"altPhonenumber",onChange:e=>{De(e,"altPhonenumber")},value:c.altPhonenumber,style:{border:"1px solid #014D88",borderRadius:"0.2rem"},required:!0})]})}),Object(je.jsx)("div",{className:"form-group col-md-4",children:Object(je.jsxs)(Le.a,{children:[Object(je.jsx)(Ye.a,{children:"Email"}),Object(je.jsx)("input",{className:"form-control",type:"email",name:"email",id:"email",onChange:Ce,value:c.email,style:{border:"1px solid #014D88",borderRadius:"0.2rem"},required:!0})]})})]}),Object(je.jsxs)("div",{className:"row",children:[Object(je.jsx)("div",{className:"form-group  col-md-4",children:Object(je.jsxs)(Le.a,{children:[Object(je.jsxs)(Ye.a,{children:["Country ",Object(je.jsx)("span",{style:{color:"red"},children:" *"})]}),Object(je.jsxs)("select",{className:"form-control",type:"text",name:"countryId",id:"countryId",style:{border:"1px solid #014D88",borderRadius:"0.2rem"},value:c.countryId,onChange:e=>{const t=e.target.value;ye(),o({...c,countryId:t})},disabled:!0,children:[Object(je.jsx)("option",{value:"",children:"Select"}),B.map(((e,t)=>Object(je.jsx)("option",{value:e.id,children:e.name},t)))]}),""!==M.countryId?Object(je.jsx)("span",{className:Z.error,children:M.countryId}):""]})}),Object(je.jsx)("div",{className:"form-group  col-md-4",children:Object(je.jsxs)(Le.a,{children:[Object(je.jsxs)(Ye.a,{children:["State ",Object(je.jsx)("span",{style:{color:"red"},children:" *"})]}),Object(je.jsxs)("select",{className:"form-control",type:"text",name:"stateId",id:"stateId",value:c.stateId,style:{border:"1px solid #014D88",borderRadius:"0.2rem"},onChange:e=>{const t=e.target.value;o({...c,stateId:e.target.value}),ee.a.get("".concat(te,"organisation-units/parent-organisation-units/").concat(t),{headers:{Authorization:"Bearer ".concat(ae)}}).then((e=>{z(e.data.sort())})).catch((e=>{}))},children:[Object(je.jsx)("option",{value:"",children:"Select"}),P.map(((e,t)=>Object(je.jsx)("option",{value:e.id,children:e.name},t)))]}),""!==M.stateId?Object(je.jsx)("span",{className:Z.error,children:M.stateId}):""]})}),Object(je.jsx)("div",{className:"form-group  col-md-4",children:Object(je.jsxs)(Le.a,{children:[Object(je.jsxs)(Ye.a,{children:["Province/District/LGA"," ",Object(je.jsx)("span",{style:{color:"red"},children:" *"})]}),Object(je.jsxs)("select",{className:"form-control",type:"text",name:"district",id:"district",value:c.district,style:{border:"1px solid #014D88",borderRadius:"0.2rem"},onChange:Ce,children:[Object(je.jsx)("option",{value:"",children:"Select"}),_.map(((e,t)=>Object(je.jsx)("option",{value:e.id,children:e.name},t)))]}),""!==M.district?Object(je.jsx)("span",{className:Z.error,children:M.district}):""]})})]}),Object(je.jsxs)("div",{className:"row",children:[Object(je.jsx)("div",{className:"form-group  col-md-4",children:Object(je.jsxs)(Le.a,{children:[Object(je.jsxs)(Ye.a,{children:["Street Address"," ",Object(je.jsx)("span",{style:{color:"red"},children:" *"})]}),Object(je.jsx)("input",{className:"form-control",type:"text",name:"streetAddress",id:"streetAddress",value:c.streetAddress,onChange:Ce,style:{border:"1px solid #014D88",borderRadius:"0.2rem"}}),""!==M.streetAddress?Object(je.jsx)("span",{className:Z.error,children:M.streetAddress}):""]})}),Object(je.jsx)("div",{className:"form-group  col-md-4",children:Object(je.jsxs)(Le.a,{children:[Object(je.jsx)(Ye.a,{children:"Landmark"}),Object(je.jsx)("input",{className:"form-control",type:"text",name:"landmark",id:"landmark",value:c.landmark,onChange:Ce,style:{border:"1px solid #014D88",borderRadius:"0.2rem"}})]})})]})]})]}),Object(je.jsxs)("div",{className:"card",children:[Object(je.jsx)("div",{className:"card-header",style:{backgroundColor:"#014d88",color:"#fff",fontWeight:"bolder",borderRadius:"0.2rem"},children:Object(je.jsx)("h5",{className:"card-title",style:{color:"#fff"},children:"Relationship / Next Of Kin"})}),Object(je.jsxs)("div",{className:"card-body",children:[Object(je.jsxs)("div",{className:"row",children:[b&&b.length>0&&Object(je.jsx)("div",{className:"col-xl-12 col-lg-12",children:Object(je.jsxs)("table",{style:{width:"100%"},className:"mb-3",children:[Object(je.jsx)("thead",{className:"mb-3",children:Object(je.jsxs)("tr",{children:[Object(je.jsx)("th",{children:"Relationship Type"}),Object(je.jsx)("th",{children:"Name"}),Object(je.jsx)("th",{children:"Phone"}),Object(je.jsx)("th",{children:"Address"}),Object(je.jsx)("th",{children:"Actions"})]})}),Object(je.jsx)("tbody",{className:"mb-3",children:b.map(((e,t)=>{var a;return Object(je.jsxs)("tr",{className:"mb-3",children:[Object(je.jsx)("td",{children:Se(e.relationshipId)}),Object(je.jsx)("td",{children:(null===e||void 0===e?void 0:e.firstName)+" "+(null===e||void 0===e?void 0:e.otherName)+" "+(null===e||void 0===e?void 0:e.surname)}),Object(je.jsx)("td",{children:e.contactPoint.value}),Object(je.jsx)("td",{children:null===(a=e.address)||void 0===a?void 0:a.line[0]}),Object(je.jsxs)("td",{children:["\xa0\xa0",Object(je.jsx)("button",{type:"button",className:"btn btn-danger btn-sm removeRow",onClick:e=>(e=>{b.splice(e,1),u([...b])})(t),children:Object(je.jsx)(gt.a,{icon:"trash"})})]})]},e.index)}))})]})}),Object(je.jsx)("div",{className:"col-xl-12 col-lg-12",children:x&&Object(je.jsx)("div",{className:"card",children:Object(je.jsxs)("div",{className:"card-body",children:[Object(je.jsxs)("div",{className:"row",children:[Object(je.jsx)("div",{className:"form-group mb-3 col-md-3",children:Object(je.jsxs)(Le.a,{children:[Object(je.jsxs)(Ye.a,{for:"relationshipType",children:["Relationship Type"," ",Object(je.jsx)("span",{style:{color:"red"},children:" *"})]}),Object(je.jsxs)("select",{className:"form-control",name:"relationshipId",id:"relationshipId",value:l.relationshipId,style:{border:"1px solid #014D88",borderRadius:"0.2rem"},onChange:Ie,children:[Object(je.jsx)("option",{value:"",children:"Select"}),R.map(((e,t)=>Object(je.jsx)("option",{value:e.id,children:e.display},e.id)))]}),""!==M.relationshipId?Object(je.jsx)("span",{className:Z.error,children:M.relationshipId}):""]})}),Object(je.jsx)("div",{className:"form-group mb-3 col-md-3",children:Object(je.jsxs)(Le.a,{children:[Object(je.jsxs)(Ye.a,{for:"cfirstName",children:["First Name"," ",Object(je.jsx)("span",{style:{color:"red"},children:" *"})]}),Object(je.jsx)("input",{className:"form-control",type:"text",name:"firstName",value:l.firstName,id:"firstName",style:{border:"1px solid #014D88",borderRadius:"0.2rem"},onChange:Ie}),""!==M.firstName?Object(je.jsx)("span",{className:Z.error,children:M.firstName}):""]})}),Object(je.jsx)("div",{className:"form-group mb-3 col-md-3",children:Object(je.jsxs)(Le.a,{children:[Object(je.jsx)(Ye.a,{children:"Middle Name"}),Object(je.jsx)("input",{className:"form-control",type:"text",name:"middleName",id:"middleName",value:l.middleName,style:{border:"1px solid #014D88",borderRadius:"0.2rem"},onChange:Ie})]})}),Object(je.jsx)("div",{className:"form-group mb-3 col-md-3",children:Object(je.jsxs)(Le.a,{children:[Object(je.jsx)(Ye.a,{children:"Last Name "}),Object(je.jsx)("input",{className:"form-control",type:"text",name:"lastName",id:"lastName",value:l.lastName,style:{border:"1px solid #014D88",borderRadius:"0.2rem"},onChange:Ie})]})})]}),Object(je.jsxs)("div",{className:"row",children:[Object(je.jsx)("div",{className:"form-group mb-3 col-md-3",children:Object(je.jsxs)(Le.a,{children:[Object(je.jsx)(Ye.a,{for:"contactPhoneNumber",children:"Phone Number"}),Object(je.jsx)(He.a,{type:"text",name:"phone",id:"phone",onChange:e=>{((e,t)=>{const a=Ae(e.target.value.replace(/\D/g,""));d({...l,[t]:a})})(e,"phone")},value:null===(t=l.phone)||void 0===t?void 0:t.value,style:{border:"1px solid #014D88",borderRadius:"0.2rem"},required:!0}),""!==M.phone?Object(je.jsx)("span",{className:Z.error,children:M.phone}):""]})}),Object(je.jsx)("div",{className:"form-group mb-3 col-md-3",children:Object(je.jsxs)(Le.a,{children:[Object(je.jsx)(Ye.a,{for:"contactEmail",children:"Email"}),Object(je.jsx)("input",{className:"form-control",type:"email",name:"email",id:"email",value:l.email,style:{border:"1px solid #014D88",borderRadius:"0.2rem"},onChange:Ie,required:!0})]})}),Object(je.jsx)("div",{className:"form-group mb-3 col-md-3",children:Object(je.jsxs)(Le.a,{children:[Object(je.jsx)(Ye.a,{for:"contactAddress",children:"Address"}),Object(je.jsx)("input",{className:"form-control",type:"text",name:"address",id:"address",value:null===(a=l.address)||void 0===a?void 0:a.city,style:{border:"1px solid #014D88",borderRadius:"0.2rem"},onChange:Ie})]})})]}),Object(je.jsxs)("div",{className:"row",children:[Object(je.jsx)("div",{className:"col-1",children:Object(je.jsx)(ce.a,{type:"button",variant:"contained",color:"primary",className:Z.button,onClick:()=>{if((()=>{let e={...M};return e.firstName=l.firstName?"":"First Name is required",e.relationshipId=l.relationshipId?"":"Relationship Type is required.",V({...e}),Object.values(e).every((e=>""===e))})()){const e={address:{line:[l.address]},contactPoint:{type:"phone",value:l.phone},firstName:l.firstName,fullName:l.firstName+" "+l.middleName+" "+l.lastName,relationshipId:l.relationshipId,surname:l.lastName,otherName:l.middleName};void 0===b?(j.push(e),u(j)):u([...b,e]),d({address:"",phone:"",firstName:"",email:"",relationshipId:"",lastName:"",middleName:""})}},children:"Add"})}),Object(je.jsx)("div",{className:"col-1",children:Object(je.jsx)(ce.a,{type:"button",variant:"contained",color:"secondary",className:Z.button,onClick:()=>{f(!1)},children:"Cancel"})})]})]})})})]}),Object(je.jsx)("div",{className:"row"}),Object(je.jsx)(ce.a,{type:"button",variant:"contained",color:"primary",className:Z.button,startIcon:Object(je.jsx)(Nt.a,{}),onClick:()=>{f(!0)},style:{backgroundColor:"#014d88",fontWeight:"bolder"},children:"Add a Relative/Next Of Kin"})]})]}),h?Object(je.jsx)(ft.a,{}):"",Object(je.jsx)("br",{}),Object(je.jsx)(ce.a,{type:"submit",variant:"contained",color:"primary",className:Z.button,startIcon:Object(je.jsx)(Ge.a,{}),onClick:async e=>{if(e.preventDefault(),(()=>{let e={...M};return e.firstName=c.firstName?"":"First Name is required",e.hospitalNumber=c.hospitalNumber?"":"Hospital Number  is required.",e.lastName=c.lastName?"":"Last Name  is required.",e.sexId=c.sexId?"":"Gender is required.",e.dateOfRegistration=c.dateOfRegistration?"":"Date of Registration is required.",e.educationId=c.educationId?"":"Education is required.",e.streetAddress=c.streetAddress?"":"Address is required.",e.countryId=c.countryId?"":"Country is required.",e.stateId=c.stateId?"":"State is required.",e.district=c.district?"":"Province/LGA is required.",e.employmentStatusId=c.employmentStatusId?"":"Employee Status  is required.",V({...e}),Object.values(e).every((e=>""===e))})()){m(!0);try{const e={active:!0,address:[{city:c.streetAddress,countryId:c.countryId,district:c.district,line:[c.landmark],organisationUnitId:0,postalCode:"",stateId:c.stateId}],contact:b,contactPoint:[],dateOfBirth:c.dob,deceased:!1,deceasedDateTime:null,firstName:c.firstName,genderId:c.sexId,sexId:c.sexId,identifier:[{assignerId:1,type:"HospitalNumber",value:c.hospitalNumber}],otherName:c.middleName,maritalStatusId:c.maritalStatusId,surname:c.lastName,educationId:c.educationId,employmentStatusId:c.employmentStatusId,dateOfRegistration:c.dateOfRegistration,isDateOfBirthEstimated:"Actual"!==c.dateOfBirth,ninNumber:c.ninNumber},t={type:"phone",value:c.phoneNumber};if(c.email){const t={type:"email",value:c.email};e.contactPoint.push(t)}if(c.altPhonenumber){const t={type:"altphone",value:c.altPhonenumber};e.contactPoint.push(t)}if(e.contactPoint.push(t),e.id=le,Y.person=e,le){e.id=null,e.facilityId=g;const t=await ee.a.put("".concat(te,"patient/").concat(le),e,{headers:{Authorization:"Bearer ".concat(ae)}});await de.refetchQueries(),n.b.success("Patient Updated successfully"),m(!1),G.push("/patient-vaccination-history",{patientObj:t.data})}else{const t=await ee.a.post("".concat(te,"patient"),e,{headers:{Authorization:"Bearer ".concat(ae)}});await de.refetchQueries(),n.b.success("Patient Register successfully"),m(!1),G.push("/patient-vaccination-history",{patientObj:t.data})}}catch(t){if(m(!1),t.response&&t.response.data){let e=t.response.data.apierror&&""!==t.response.data.apierror.message?t.response.data.apierror.message:"Something went wrong, please try again";t.response.data.apierror&&""!==t.response.data.apierror.message&&t.response.data.apierror&&""!==t.response.data.apierror.subErrors[0].message?n.b.error(t.response.data.apierror.message+" : "+t.response.data.apierror.subErrors[0].field+" "+t.response.data.apierror.subErrors[0].message,{position:n.b.POSITION.BOTTOM_CENTER}):n.b.error(e,{position:n.b.POSITION.BOTTOM_CENTER})}else n.b.error("Something went wrong. Please try again...",{position:n.b.POSITION.BOTTOM_CENTER})}}},hidden:v,disabled:h,style:{backgroundColor:"#014d88",fontWeight:"bolder"},children:h?Object(je.jsx)("span",{style:{textTransform:"capitalize"},children:"Saving..."}):Object(je.jsx)("span",{style:{textTransform:"capitalize"},children:"Save"})}),Object(je.jsx)(ce.a,{variant:"contained",className:Z.button,startIcon:Object(je.jsx)(Qe.a,{}),style:{backgroundColor:"#992E62"},onClick:()=>{G.push({pathname:"/"})},children:Object(je.jsx)("span",{style:{textTransform:"capitalize",color:"#fff"},children:"Cancel"})})]})})})}),Object(je.jsxs)(_e.a,{show:ie,toggle:se,className:"fade",size:"sm","aria-labelledby":"contained-modal-title-vcenter",centered:!0,backdrop:"static",children:[Object(je.jsx)(_e.a.Header,{children:Object(je.jsx)(_e.a.Title,{id:"contained-modal-title-vcenter",children:"Notification!"})}),Object(je.jsx)(_e.a.Body,{children:Object(je.jsx)("h4",{children:"Are you Sure of the Age entered?"})}),Object(je.jsx)(_e.a.Footer,{children:Object(je.jsx)(ce.a,{onClick:se,style:{backgroundColor:"#014d88",color:"#fff"},children:"Yes"})})]})]})},wt=a(614),It=a(626);function Tt(){return Object(je.jsx)(s.MemoryRouter,{children:Object(je.jsxs)(wt.a,{client:de,children:[Object(je.jsxs)("div",{children:[Object(je.jsx)(n.a,{}),Object(je.jsxs)(s.Switch,{children:[Object(je.jsx)(s.Route,{path:"/tetanus-patient",children:Object(je.jsx)(ut,{})}),Object(je.jsx)(s.Route,{path:"/routine-immunization-patient",children:Object(je.jsx)(jt,{})}),Object(je.jsx)(s.Route,{path:"/patient-vaccination-history",children:Object(je.jsx)(Ot,{})}),Object(je.jsx)(s.Route,{path:"/register-patient",children:Object(je.jsx)(St,{})}),Object(je.jsx)(s.Route,{path:"/",children:Object(je.jsx)(fe,{})})]})]}),Object(je.jsx)(It.ReactQueryDevtools,{initialIsOpen:!1})]})})}var At=e=>{e&&e instanceof Function&&a.e(6).then(a.bind(null,1058)).then((t=>{let{getCLS:a,getFID:i,getFCP:r,getLCP:c,getTTFB:o}=t;a(e),i(e),r(e),c(e),o(e)}))},Dt=a(627);let Rt="ltr";const kt=[{typography:"poppins",version:"light",layout:"vertical",headerBg:"color_1",navheaderBg:"color_1",sidebarBg:"color_1",sidebarStyle:"full",sidebarPosition:"fixed",headerPosition:"fixed",containerLayout:"full",direction:Rt},{typography:"poppins",version:"light",layout:"vertical",primary:"color_5",headerBg:"color_5",navheaderBg:"color_1",sidebarBg:"color_1",sidebarStyle:"full",sidebarPosition:"fixed",headerPosition:"fixed",containerLayout:"wide",direction:Rt},{typography:"poppins",version:"light",layout:"vertical",navheaderBg:"color_11",headerBg:"color_1",sidebarBg:"color_11",sidebarStyle:"full",sidebarPosition:"fixed",headerPosition:"fixed",containerLayout:"wide",primary:"color_11",direction:Rt},{typography:"poppins",version:"dark",layout:"vertical",headerBg:"color_3",navheaderBg:"color_3",sidebarBg:"color_1",sidebarStyle:"full",sidebarPosition:"fixed",headerPosition:"fixed",containerLayout:"wide",primary:"color_1",direction:Rt},{typography:"poppins",version:"light",layout:"vertical",navheaderBg:"color_15",headerBg:"color_1",sidebarStyle:"full",sidebarBg:"color_1",sidebarPosition:"fixed",headerPosition:"fixed",containerLayout:"wide",primary:"color_15",direction:Rt},{typography:"poppins",version:"light",layout:"horizontal",navheaderBg:"color_1",headerBg:"color_1",sidebarBg:"color_9",sidebarStyle:"modern",sidebarPosition:"static",headerPosition:"fixed",containerLayout:"wide",primary:"color_9",direction:Rt}],Bt=Object(i.createContext)();var Et=e=>{const[t,a]=Object(i.useState)({value:"full",label:"Full"}),[r,c]=Object(i.useState)({value:"fixed",label:"Fixed"}),[o,s]=Object(i.useState)({value:"fixed",label:"Fixed"}),[n,l]=Object(i.useState)({value:"vertical",label:"Vertical"}),[d,j]=Object(i.useState)({value:"ltr",label:"LTR"}),[b,u]=Object(i.useState)("color_1"),[h,m]=Object(i.useState)("color_1"),[v,O]=Object(i.useState)("color_1"),[p,x]=Object(i.useState)("color_1"),[f,g]=Object(i.useState)(!1),[y,N]=Object(i.useState)(!1),[C,S]=Object(i.useState)({value:"light",label:"Light"}),[w,I]=Object(i.useState)({value:"wide-boxed",label:"Wide Boxed"}),T=document.querySelector("body"),[A,D]=Object(i.useState)(0),[R,k]=Object(i.useState)(0),B=e=>{u(e),T.setAttribute("data-primary",e)},E=e=>{m(e),T.setAttribute("data-nav-headerbg",e)},P=e=>{O(e),T.setAttribute("data-headerbg",e)},F=e=>{x(e),T.setAttribute("data-sibebarbg",e)},_=e=>{c(e),T.setAttribute("data-sidebar-position",e.value)},z=e=>{j(e),T.setAttribute("direction",e.value);let t=document.querySelector("html");t.setAttribute("dir",e.value),t.className=e.value},M=e=>{"horizontal"===e.value&&"overlay"===t.value?(l(e),T.setAttribute("data-layout",e.value),a({value:"full",label:"Full"}),T.setAttribute("data-sidebar-style","full")):(l(e),T.setAttribute("data-layout",e.value))},V=e=>{"horizontal"===n.value&&"overlay"===e.value?alert("Sorry! Overlay is not possible in Horizontal layout."):(a(e),g("icon-hover"===e.value?"_i-hover":""),T.setAttribute("data-sidebar-style",e.value))},q=e=>{s(e),T.setAttribute("data-header-position",e.value)},L=e=>{T.setAttribute("data-theme-version",e.value),S(e)},Y=e=>{I(e),T.setAttribute("data-container",e.value),"boxed"===e.value&&V({value:"overlay",label:"Overlay"})};return Object(i.useEffect)((()=>{const e=document.querySelector("body");e.setAttribute("data-typography","poppins"),e.setAttribute("data-theme-version","light"),e.setAttribute("data-layout","vertical"),e.setAttribute("data-primary","color_1"),e.setAttribute("data-nav-headerbg","color_1"),e.setAttribute("data-headerbg","color_1"),e.setAttribute("data-sidebar-style","overlay"),e.setAttribute("data-sibebarbg","color_1"),e.setAttribute("data-primary","color_1"),e.setAttribute("data-sidebar-position","fixed"),e.setAttribute("data-header-position","fixed"),e.setAttribute("data-container","wide"),e.setAttribute("direction","ltr");let t=()=>{D(window.innerWidth),k(window.innerHeight),window.innerWidth>=768&&window.innerWidth<1024?e.setAttribute("data-sidebar-style","mini"):window.innerWidth<=768?e.setAttribute("data-sidebar-style","overlay"):e.setAttribute("data-sidebar-style","full")};return t(),window.addEventListener("resize",t),()=>window.removeEventListener("resize",t)}),[]),Object(je.jsx)(Bt.Provider,{value:{body:T,sideBarOption:[{value:"compact",label:"Compact"},{value:"full",label:"Full"},{value:"mini",label:"Mini"},{value:"modern",label:"Modern"},{value:"overlay",label:"Overlay"},{value:"icon-hover",label:"Icon-hover"}],layoutOption:[{value:"vertical",label:"Vertical"},{value:"horizontal",label:"Horizontal"}],backgroundOption:[{value:"light",label:"Light"},{value:"dark",label:"Dark"}],sidebarposition:r,headerPositions:[{value:"fixed",label:"Fixed"},{value:"static",label:"Static"}],containerPosition:[{value:"wide-boxed",label:"Wide Boxed"},{value:"boxed",label:"Boxed"},{value:"wide",label:"Wide"}],directionPosition:[{value:"ltr",label:"LTR"},{value:"rtl",label:"RTL"}],fontFamily:[{value:"poppins",label:"Poppins"},{value:"roboto",label:"Roboto"},{value:"cairo",label:"Cairo"},{value:"opensans",label:"Open Sans"},{value:"HelveticaNeue",label:"HelveticaNeue"}],primaryColor:b,navigationHader:h,windowWidth:A,windowHeight:R,changePrimaryColor:B,changeNavigationHader:E,changeSideBarStyle:V,sideBarStyle:t,changeSideBarPostion:_,sidebarpositions:[{value:"fixed",label:"Fixed"},{value:"static",label:"Static"}],changeHeaderPostion:q,headerposition:o,changeSideBarLayout:M,sidebarLayout:n,changeDirectionLayout:z,changeContainerPosition:Y,direction:d,colors:["color_1","color_2","color_3","color_4","color_5","color_6","color_7","color_8","color_9","color_10","color_11","color_12","color_13","color_14","color_15"],haderColor:v,chnageHaderColor:P,chnageSidebarColor:F,sidebarColor:p,iconHover:f,menuToggle:y,openMenuToggle:()=>{"overly"===t.value?N(!0):N(!1)},changeBackground:L,background:C,containerPosition_:w,setDemoTheme:(e,t)=>{var a={},i=kt[e];T.setAttribute("data-typography",i.typography),a.value=i.version,L(a),a.value=i.layout,M(a),B(i.primary),E(i.navheaderBg),P(i.headerBg),a.value=i.sidebarStyle,V(a),F(i.sidebarBg),a.value=i.sidebarPosition,_(a),a.value=i.headerPosition,q(a),a.value=i.containerLayout,Y(a),a.value=t,z(a)}},children:e.children})};o.a.render(Object(je.jsx)(r.a.StrictMode,{children:Object(je.jsx)(Dt.a,{children:Object(je.jsx)(re.a,{basename:"/",children:Object(je.jsx)(Et,{children:Object(je.jsx)(Tt,{})})})})}),document.getElementById("root")),At()}},[[860,1,2]]]);
//# sourceMappingURL=main.8f81d5fc.chunk.js.map